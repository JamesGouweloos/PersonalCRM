{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\r\nimport { twMerge } from 'tailwind-merge'\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,8OAAO,EAAC,IAAA,wMAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/components/sidebar.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport Link from \"next/link\"\r\nimport { usePathname } from \"next/navigation\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { LayoutDashboard, Users, UserPlus, Mail, Calendar, BarChart3, Settings, Briefcase, XCircle } from \"lucide-react\"\r\n\r\nconst navigation = [\r\n  { name: \"Dashboard\", href: \"/\", icon: LayoutDashboard },\r\n  { name: \"Opportunities\", href: \"/opportunities\", icon: Briefcase },\r\n  { name: \"Leads\", href: \"/leads\", icon: UserPlus },\r\n  { name: \"Not Interested\", href: \"/not-interested\", icon: XCircle },\r\n  { name: \"Contacts\", href: \"/contacts\", icon: Users },\r\n  { name: \"Follow-ups\", href: \"/follow-ups\", icon: Calendar },\r\n  { name: \"Templates\", href: \"/templates\", icon: Mail },\r\n  { name: \"Analytics\", href: \"/analytics\", icon: BarChart3 },\r\n]\r\n\r\nexport function Sidebar() {\r\n  const pathname = usePathname()\r\n\r\n  return (\r\n    <aside className=\"fixed left-0 top-0 z-40 h-screen w-64 border-r border-border bg-card\">\r\n      <div className=\"flex h-16 items-center gap-2 border-b border-border px-6\">\r\n        <div className=\"flex h-8 w-8 items-center justify-center rounded-lg bg-primary\">\r\n          <span className=\"text-sm font-bold text-primary-foreground\">CRM</span>\r\n        </div>\r\n        <span className=\"text-lg font-semibold text-foreground\">Sales CRM</span>\r\n      </div>\r\n\r\n      <nav className=\"flex flex-col gap-1 p-4\">\r\n        {navigation.map((item) => {\r\n          const isActive = pathname === item.href\r\n          return (\r\n            <Link\r\n              key={item.name}\r\n              href={item.href}\r\n              className={cn(\r\n                \"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors\",\r\n                isActive\r\n                  ? \"bg-primary text-primary-foreground\"\r\n                  : \"text-muted-foreground hover:bg-secondary hover:text-foreground\",\r\n              )}\r\n            >\r\n              <item.icon className=\"h-5 w-5\" />\r\n              {item.name}\r\n            </Link>\r\n          )\r\n        })}\r\n      </nav>\r\n\r\n      <div className=\"absolute bottom-4 left-4 right-4\">\r\n        <Link\r\n          href=\"/settings\"\r\n          className=\"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground\"\r\n        >\r\n          <Settings className=\"h-5 w-5\" />\r\n          Settings\r\n        </Link>\r\n      </div>\r\n    </aside>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALA;;;;;;AAOA,MAAM,aAAa;IACjB;QAAE,MAAM;QAAa,MAAM;QAAK,MAAM,6UAAe;IAAC;IACtD;QAAE,MAAM;QAAiB,MAAM;QAAkB,MAAM,uTAAS;IAAC;IACjE;QAAE,MAAM;QAAS,MAAM;QAAU,MAAM,wTAAQ;IAAC;IAChD;QAAE,MAAM;QAAkB,MAAM;QAAmB,MAAM,qTAAO;IAAC;IACjE;QAAE,MAAM;QAAY,MAAM;QAAa,MAAM,2SAAK;IAAC;IACnD;QAAE,MAAM;QAAc,MAAM;QAAe,MAAM,oTAAQ;IAAC;IAC1D;QAAE,MAAM;QAAa,MAAM;QAAc,MAAM,wSAAI;IAAC;IACpD;QAAE,MAAM;QAAa,MAAM;QAAc,MAAM,6TAAS;IAAC;CAC1D;AAEM,SAAS;IACd,MAAM,WAAW,IAAA,0RAAW;IAE5B,qBACE,uXAAC;QAAM,WAAU;;0BACf,uXAAC;gBAAI,WAAU;;kCACb,uXAAC;wBAAI,WAAU;kCACb,cAAA,uXAAC;4BAAK,WAAU;sCAA4C;;;;;;;;;;;kCAE9D,uXAAC;wBAAK,WAAU;kCAAwC;;;;;;;;;;;;0BAG1D,uXAAC;gBAAI,WAAU;0BACZ,WAAW,GAAG,CAAC,CAAC;oBACf,MAAM,WAAW,aAAa,KAAK,IAAI;oBACvC,qBACE,uXAAC,gTAAI;wBAEH,MAAM,KAAK,IAAI;wBACf,WAAW,IAAA,4HAAE,EACX,sFACA,WACI,uCACA;;0CAGN,uXAAC,KAAK,IAAI;gCAAC,WAAU;;;;;;4BACpB,KAAK,IAAI;;uBAVL,KAAK,IAAI;;;;;gBAapB;;;;;;0BAGF,uXAAC;gBAAI,WAAU;0BACb,cAAA,uXAAC,gTAAI;oBACH,MAAK;oBACL,WAAU;;sCAEV,uXAAC,oTAAQ;4BAAC,WAAU;;;;;;wBAAY;;;;;;;;;;;;;;;;;;AAM1C"}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive:\r\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\r\n        secondary:\r\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        ghost:\r\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n      },\r\n      size: {\r\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\r\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\r\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\r\n        icon: 'size-9',\r\n        'icon-sm': 'size-8',\r\n        'icon-lg': 'size-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'button'> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : 'button'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,4PAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,sTAAI,GAAG;IAE9B,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\r\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,uXAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/components/header.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Bell, Search } from \"lucide-react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\n\r\ninterface HeaderProps {\r\n  title: string\r\n  subtitle?: string\r\n}\r\n\r\nexport function Header({ title, subtitle }: HeaderProps) {\r\n  return (\r\n    <header className=\"flex h-16 items-center justify-between border-b border-border bg-card px-6\">\r\n      <div>\r\n        <h1 className=\"text-xl font-semibold text-foreground\">{title}</h1>\r\n        {subtitle && <p className=\"text-sm text-muted-foreground\">{subtitle}</p>}\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-4\">\r\n        <div className=\"relative\">\r\n          <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\r\n          <Input placeholder=\"Search...\" className=\"w-64 bg-secondary pl-10\" />\r\n        </div>\r\n        <Button variant=\"ghost\" size=\"icon\" className=\"relative\">\r\n          <Bell className=\"h-5 w-5\" />\r\n          <span className=\"absolute -right-1 -top-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[10px] text-primary-foreground\">\r\n            3\r\n          </span>\r\n        </Button>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AAJA;;;;;AAWO,SAAS,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAe;IACrD,qBACE,uXAAC;QAAO,WAAU;;0BAChB,uXAAC;;kCACC,uXAAC;wBAAG,WAAU;kCAAyC;;;;;;oBACtD,0BAAY,uXAAC;wBAAE,WAAU;kCAAiC;;;;;;;;;;;;0BAG7D,uXAAC;gBAAI,WAAU;;kCACb,uXAAC;wBAAI,WAAU;;0CACb,uXAAC,8SAAM;gCAAC,WAAU;;;;;;0CAClB,uXAAC,6IAAK;gCAAC,aAAY;gCAAY,WAAU;;;;;;;;;;;;kCAE3C,uXAAC,+IAAM;wBAAC,SAAQ;wBAAQ,MAAK;wBAAO,WAAU;;0CAC5C,uXAAC,wSAAI;gCAAC,WAAU;;;;;;0CAChB,uXAAC;gCAAK,WAAU;0CAAgI;;;;;;;;;;;;;;;;;;;;;;;;AAO1J"}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst badgeVariants = cva(\r\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\r\n        secondary:\r\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\r\n        destructive:\r\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Badge({\r\n  className,\r\n  variant,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'span'> &\r\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : 'span'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"badge\"\r\n      className={cn(badgeVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,4PAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,sTAAI,GAAG;IAE9B,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 427, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn('leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn('px-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 529, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/components/ui/tabs.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as TabsPrimitive from '@radix-ui/react-tabs'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Tabs({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\r\n  return (\r\n    <TabsPrimitive.Root\r\n      data-slot=\"tabs\"\r\n      className={cn('flex flex-col gap-2', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TabsList({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\r\n  return (\r\n    <TabsPrimitive.List\r\n      data-slot=\"tabs-list\"\r\n      className={cn(\r\n        'bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TabsTrigger({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\r\n  return (\r\n    <TabsPrimitive.Trigger\r\n      data-slot=\"tabs-trigger\"\r\n      className={cn(\r\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TabsContent({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\r\n  return (\r\n    <TabsPrimitive.Content\r\n      data-slot=\"tabs-content\"\r\n      className={cn('flex-1 outline-none', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,uXAAC,+RAAkB;QACjB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,uXAAC,+RAAkB;QACjB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,uXAAC,kSAAqB;QACpB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,uXAAC,kSAAqB;QACpB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 595, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/components/ui/dialog.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\r\nimport { XIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Dialog({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\r\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\r\n}\r\n\r\nfunction DialogTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\r\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\r\n}\r\n\r\nfunction DialogPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\r\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\r\n}\r\n\r\nfunction DialogClose({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\r\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\r\n}\r\n\r\nfunction DialogOverlay({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\r\n  return (\r\n    <DialogPrimitive.Overlay\r\n      data-slot=\"dialog-overlay\"\r\n      className={cn(\r\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogContent({\r\n  className,\r\n  children,\r\n  showCloseButton = true,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\r\n  showCloseButton?: boolean\r\n}) {\r\n  return (\r\n    <DialogPortal data-slot=\"dialog-portal\">\r\n      <DialogOverlay />\r\n      <DialogPrimitive.Content\r\n        data-slot=\"dialog-content\"\r\n        className={cn(\r\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        {showCloseButton && (\r\n          <DialogPrimitive.Close\r\n            data-slot=\"dialog-close\"\r\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\r\n          >\r\n            <XIcon />\r\n            <span className=\"sr-only\">Close</span>\r\n          </DialogPrimitive.Close>\r\n        )}\r\n      </DialogPrimitive.Content>\r\n    </DialogPortal>\r\n  )\r\n}\r\n\r\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-header\"\r\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-footer\"\r\n      className={cn(\r\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogTitle({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\r\n  return (\r\n    <DialogPrimitive.Title\r\n      data-slot=\"dialog-title\"\r\n      className={cn('text-lg leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\r\n  return (\r\n    <DialogPrimitive.Description\r\n      data-slot=\"dialog-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Dialog,\r\n  DialogClose,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogOverlay,\r\n  DialogPortal,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,uXAAC,iSAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,uXAAC,oSAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,uXAAC,mSAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,uXAAC,kSAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,uXAAC,oSAAuB;QACtB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,uXAAC;QAAa,aAAU;;0BACtB,uXAAC;;;;;0BACD,uXAAC,oSAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,4HAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,uXAAC,kSAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,uXAAC,uSAAK;;;;;0CACN,uXAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,uXAAC,kSAAqB;QACpB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,uXAAC,wSAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 777, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/components/ui/label.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as LabelPrimitive from '@radix-ui/react-label'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Label({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\r\n  return (\r\n    <LabelPrimitive.Root\r\n      data-slot=\"label\"\r\n      className={cn(\r\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Label }\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,uXAAC,gSAAmB;QAClB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 804, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/components/ui/select.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as SelectPrimitive from '@radix-ui/react-select'\r\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Select({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\r\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\r\n}\r\n\r\nfunction SelectGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\r\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\r\n}\r\n\r\nfunction SelectValue({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\r\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\r\n}\r\n\r\nfunction SelectTrigger({\r\n  className,\r\n  size = 'default',\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\r\n  size?: 'sm' | 'default'\r\n}) {\r\n  return (\r\n    <SelectPrimitive.Trigger\r\n      data-slot=\"select-trigger\"\r\n      data-size={size}\r\n      className={cn(\r\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <SelectPrimitive.Icon asChild>\r\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\r\n      </SelectPrimitive.Icon>\r\n    </SelectPrimitive.Trigger>\r\n  )\r\n}\r\n\r\nfunction SelectContent({\r\n  className,\r\n  children,\r\n  position = 'popper',\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\r\n  return (\r\n    <SelectPrimitive.Portal>\r\n      <SelectPrimitive.Content\r\n        data-slot=\"select-content\"\r\n        className={cn(\r\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\r\n          position === 'popper' &&\r\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\r\n          className,\r\n        )}\r\n        position={position}\r\n        {...props}\r\n      >\r\n        <SelectScrollUpButton />\r\n        <SelectPrimitive.Viewport\r\n          className={cn(\r\n            'p-1',\r\n            position === 'popper' &&\r\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\r\n          )}\r\n        >\r\n          {children}\r\n        </SelectPrimitive.Viewport>\r\n        <SelectScrollDownButton />\r\n      </SelectPrimitive.Content>\r\n    </SelectPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction SelectLabel({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\r\n  return (\r\n    <SelectPrimitive.Label\r\n      data-slot=\"select-label\"\r\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SelectItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\r\n  return (\r\n    <SelectPrimitive.Item\r\n      data-slot=\"select-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\r\n        <SelectPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </SelectPrimitive.ItemIndicator>\r\n      </span>\r\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n    </SelectPrimitive.Item>\r\n  )\r\n}\r\n\r\nfunction SelectSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\r\n  return (\r\n    <SelectPrimitive.Separator\r\n      data-slot=\"select-separator\"\r\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SelectScrollUpButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollUpButton\r\n      data-slot=\"select-scroll-up-button\"\r\n      className={cn(\r\n        'flex cursor-default items-center justify-center py-1',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronUpIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollUpButton>\r\n  )\r\n}\r\n\r\nfunction SelectScrollDownButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollDownButton\r\n      data-slot=\"select-scroll-down-button\"\r\n      className={cn(\r\n        'flex cursor-default items-center justify-center py-1',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronDownIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollDownButton>\r\n  )\r\n}\r\n\r\nexport {\r\n  Select,\r\n  SelectContent,\r\n  SelectGroup,\r\n  SelectItem,\r\n  SelectLabel,\r\n  SelectScrollDownButton,\r\n  SelectScrollUpButton,\r\n  SelectSeparator,\r\n  SelectTrigger,\r\n  SelectValue,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,uXAAC,iSAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,uXAAC,kSAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,uXAAC,kSAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,uXAAC,oSAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,4HAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,uXAAC,iSAAoB;gBAAC,OAAO;0BAC3B,cAAA,uXAAC,yUAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,uXAAC,mSAAsB;kBACrB,cAAA,uXAAC,oSAAuB;YACtB,aAAU;YACV,WAAW,IAAA,4HAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,uXAAC;;;;;8BACD,uXAAC,qSAAwB;oBACvB,WAAW,IAAA,4HAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,uXAAC;;;;;;;;;;;;;;;;AAIT;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,uXAAC,kSAAqB;QACpB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,uXAAC,iSAAoB;QACnB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,uXAAC;gBAAK,WAAU;0BACd,cAAA,uXAAC,0SAA6B;8BAC5B,cAAA,uXAAC,mTAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,uXAAC,qSAAwB;0BAAE;;;;;;;;;;;;AAGjC;AAEA,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,uXAAC,sSAAyB;QACxB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,uXAAC,2SAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,uXAAC,mUAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;AAEA,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,uXAAC,6SAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,uXAAC,yUAAe;YAAC,WAAU;;;;;;;;;;;AAGjC"}},
    {"offset": {"line": 1037, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\r\n  return (\r\n    <textarea\r\n      data-slot=\"textarea\"\r\n      className={cn(\r\n        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1061, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/lib/store.ts"],"sourcesContent":["import type { Contact, Lead, FollowUp, EmailTemplate, Activity, Opportunity, CallLog, CommissionSnapshot, AuditTrail, Dispute } from \"./types\"\r\n\r\nconst STORAGE_KEYS = {\r\n  contacts: \"crm_contacts\",\r\n  leads: \"crm_leads\",\r\n  notInterested: \"crm_not_interested\",\r\n  opportunities: \"crm_opportunities\",\r\n  followUps: \"crm_follow_ups\",\r\n  templates: \"crm_templates\",\r\n  activities: \"crm_activities\",\r\n  callLogs: \"crm_call_logs\",\r\n  commissionSnapshots: \"crm_commission_snapshots\",\r\n  auditTrail: \"crm_audit_trail\",\r\n  disputes: \"crm_disputes\",\r\n}\r\n\r\n// Helper functions\r\nexport function generateId(): string {\r\n  return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\r\n}\r\n\r\nfunction getFromStorage<T>(key: string, defaultValue: T): T {\r\n  if (typeof window === \"undefined\") return defaultValue\r\n  const stored = localStorage.getItem(key)\r\n  return stored ? JSON.parse(stored) : defaultValue\r\n}\r\n\r\nfunction saveToStorage<T>(key: string, value: T): void {\r\n  if (typeof window === \"undefined\") return\r\n  localStorage.setItem(key, JSON.stringify(value))\r\n}\r\n\r\n// Contacts\r\nexport function getContacts(): Contact[] {\r\n  return getFromStorage<Contact[]>(STORAGE_KEYS.contacts, [])\r\n}\r\n\r\nexport function saveContact(contact: Contact): void {\r\n  const contacts = getContacts()\r\n  const index = contacts.findIndex((c) => c.id === contact.id)\r\n  if (index >= 0) {\r\n    contacts[index] = contact\r\n  } else {\r\n    contacts.push(contact)\r\n  }\r\n  saveToStorage(STORAGE_KEYS.contacts, contacts)\r\n}\r\n\r\nexport function deleteContact(id: string): void {\r\n  const contacts = getContacts().filter((c) => c.id !== id)\r\n  saveToStorage(STORAGE_KEYS.contacts, contacts)\r\n}\r\n\r\n// Leads\r\nexport function getLeads(): Lead[] {\r\n  return getFromStorage<Lead[]>(STORAGE_KEYS.leads, [])\r\n}\r\n\r\nexport function saveLead(lead: Lead): void {\r\n  const leads = getLeads()\r\n  const index = leads.findIndex((l) => l.id === lead.id)\r\n  if (index >= 0) {\r\n    leads[index] = lead\r\n  } else {\r\n    leads.push(lead)\r\n  }\r\n  saveToStorage(STORAGE_KEYS.leads, leads)\r\n}\r\n\r\nexport function deleteLead(id: string): void {\r\n  const leads = getLeads().filter((l) => l.id !== id)\r\n  saveToStorage(STORAGE_KEYS.leads, leads)\r\n}\r\n\r\n// Follow-ups\r\nexport function getFollowUps(): FollowUp[] {\r\n  return getFromStorage<FollowUp[]>(STORAGE_KEYS.followUps, [])\r\n}\r\n\r\nexport function saveFollowUp(followUp: FollowUp): void {\r\n  const followUps = getFollowUps()\r\n  const index = followUps.findIndex((f) => f.id === followUp.id)\r\n  if (index >= 0) {\r\n    followUps[index] = followUp\r\n  } else {\r\n    followUps.push(followUp)\r\n  }\r\n  saveToStorage(STORAGE_KEYS.followUps, followUps)\r\n}\r\n\r\nexport function deleteFollowUp(id: string): void {\r\n  const followUps = getFollowUps().filter((f) => f.id !== id)\r\n  saveToStorage(STORAGE_KEYS.followUps, followUps)\r\n}\r\n\r\n// Email Templates\r\nexport function getTemplates(): EmailTemplate[] {\r\n  return getFromStorage<EmailTemplate[]>(STORAGE_KEYS.templates, defaultTemplates)\r\n}\r\n\r\nexport function saveTemplate(template: EmailTemplate): void {\r\n  const templates = getTemplates()\r\n  const index = templates.findIndex((t) => t.id === template.id)\r\n  if (index >= 0) {\r\n    templates[index] = template\r\n  } else {\r\n    templates.push(template)\r\n  }\r\n  saveToStorage(STORAGE_KEYS.templates, templates)\r\n}\r\n\r\nexport function deleteTemplate(id: string): void {\r\n  const templates = getTemplates().filter((t) => t.id !== id)\r\n  saveToStorage(STORAGE_KEYS.templates, templates)\r\n}\r\n\r\n// Activities\r\nexport function getActivities(): Activity[] {\r\n  return getFromStorage<Activity[]>(STORAGE_KEYS.activities, [])\r\n}\r\n\r\nexport function addActivity(activity: Activity): void {\r\n  const activities = getActivities()\r\n  activities.unshift(activity)\r\n  // Keep only last 100 activities\r\n  saveToStorage(STORAGE_KEYS.activities, activities.slice(0, 100))\r\n}\r\n\r\n// Opportunities\r\nexport function getOpportunities(): Opportunity[] {\r\n  return getFromStorage<Opportunity[]>(STORAGE_KEYS.opportunities, [])\r\n}\r\n\r\nexport function saveOpportunity(opportunity: Opportunity): void {\r\n  const opportunities = getOpportunities()\r\n  const index = opportunities.findIndex((o) => o.id === opportunity.id)\r\n  if (index >= 0) {\r\n    opportunities[index] = opportunity\r\n  } else {\r\n    opportunities.push(opportunity)\r\n  }\r\n  saveToStorage(STORAGE_KEYS.opportunities, opportunities)\r\n  \r\n  // Create audit trail entry for changes\r\n  if (index >= 0) {\r\n    const oldOpp = opportunities[index]\r\n    // Log key field changes\r\n    const fieldsToTrack = ['status', 'assignedTo', 'value', 'source', 'subSource']\r\n    fieldsToTrack.forEach(field => {\r\n      if (oldOpp[field as keyof Opportunity] !== opportunity[field as keyof Opportunity]) {\r\n        addAuditTrail({\r\n          id: generateId(),\r\n          opportunityId: opportunity.id,\r\n          fieldName: field,\r\n          oldValue: String(oldOpp[field as keyof Opportunity] || ''),\r\n          newValue: String(opportunity[field as keyof Opportunity] || ''),\r\n          changedBy: 'me', // TODO: Get from auth context\r\n          changedAt: new Date().toISOString(),\r\n        })\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport function deleteOpportunity(id: string): void {\r\n  const opportunities = getOpportunities()\r\n  const opp = opportunities.find(o => o.id === id)\r\n  if (opp && opp.status === 'won') {\r\n    throw new Error('Cannot delete closed won opportunity. Use reversal instead.')\r\n  }\r\n  const filtered = opportunities.filter((o) => o.id !== id)\r\n  saveToStorage(STORAGE_KEYS.opportunities, filtered)\r\n}\r\n\r\n// Call Logs\r\nexport function getCallLogs(opportunityId?: string): CallLog[] {\r\n  const logs = getFromStorage<CallLog[]>(STORAGE_KEYS.callLogs, [])\r\n  if (opportunityId) {\r\n    return logs.filter(log => log.opportunityId === opportunityId)\r\n  }\r\n  return logs\r\n}\r\n\r\nexport function saveCallLog(callLog: CallLog): void {\r\n  const logs = getCallLogs()\r\n  const index = logs.findIndex((l) => l.id === callLog.id)\r\n  if (index >= 0) {\r\n    logs[index] = callLog\r\n  } else {\r\n    logs.push(callLog)\r\n  }\r\n  saveToStorage(STORAGE_KEYS.callLogs, logs)\r\n  \r\n  // Create activity record\r\n  addActivity({\r\n    id: generateId(),\r\n    opportunityId: callLog.opportunityId,\r\n    contactId: callLog.contactId,\r\n    type: callLog.direction === 'inbound' ? 'call_received' : 'call_made',\r\n    description: `Call ${callLog.direction === 'inbound' ? 'received from' : 'made to'} ${callLog.phoneNumber}${callLog.outcome ? ` - ${callLog.outcome}` : ''}`,\r\n    direction: callLog.direction,\r\n    user: callLog.user,\r\n    callDuration: callLog.duration,\r\n    callOutcome: callLog.outcome,\r\n    createdAt: callLog.occurredAt,\r\n  })\r\n}\r\n\r\n// Commission Snapshots\r\nexport function getCommissionSnapshot(opportunityId: string): CommissionSnapshot | null {\r\n  const snapshots = getFromStorage<CommissionSnapshot[]>(STORAGE_KEYS.commissionSnapshots, [])\r\n  return snapshots.find(s => s.opportunityId === opportunityId) || null\r\n}\r\n\r\nexport function saveCommissionSnapshot(snapshot: CommissionSnapshot): void {\r\n  const snapshots = getFromStorage<CommissionSnapshot[]>(STORAGE_KEYS.commissionSnapshots, [])\r\n  const index = snapshots.findIndex((s) => s.id === snapshot.id)\r\n  if (index >= 0) {\r\n    snapshots[index] = snapshot\r\n  } else {\r\n    snapshots.push(snapshot)\r\n  }\r\n  saveToStorage(STORAGE_KEYS.commissionSnapshots, snapshots)\r\n}\r\n\r\n// Audit Trail\r\nexport function getAuditTrail(opportunityId: string): AuditTrail[] {\r\n  const trail = getFromStorage<AuditTrail[]>(STORAGE_KEYS.auditTrail, [])\r\n  return trail.filter(t => t.opportunityId === opportunityId).sort((a, b) => \r\n    new Date(b.changedAt).getTime() - new Date(a.changedAt).getTime()\r\n  )\r\n}\r\n\r\nexport function addAuditTrail(entry: AuditTrail): void {\r\n  const trail = getFromStorage<AuditTrail[]>(STORAGE_KEYS.auditTrail, [])\r\n  trail.push(entry)\r\n  saveToStorage(STORAGE_KEYS.auditTrail, trail)\r\n}\r\n\r\n// Disputes\r\nexport function getDisputes(opportunityId?: string): Dispute[] {\r\n  const disputes = getFromStorage<Dispute[]>(STORAGE_KEYS.disputes, [])\r\n  if (opportunityId) {\r\n    return disputes.filter(d => d.opportunityId === opportunityId)\r\n  }\r\n  return disputes\r\n}\r\n\r\nexport function saveDispute(dispute: Dispute): void {\r\n  const disputes = getDisputes()\r\n  const index = disputes.findIndex((d) => d.id === dispute.id)\r\n  if (index >= 0) {\r\n    disputes[index] = { ...dispute, updatedAt: new Date().toISOString() }\r\n  } else {\r\n    disputes.push(dispute)\r\n  }\r\n  saveToStorage(STORAGE_KEYS.disputes, disputes)\r\n}\r\n\r\n// Not Interested Leads\r\nexport function getNotInterestedLeads(): Lead[] {\r\n  return getFromStorage<Lead[]>(STORAGE_KEYS.notInterested, [])\r\n}\r\n\r\nexport function addNotInterestedLead(lead: Lead, reason?: string): void {\r\n  const notInterested = getNotInterestedLeads()\r\n  // Add reason as notes if provided\r\n  const leadWithReason: Lead = {\r\n    ...lead,\r\n    notes: reason ? `${lead.notes || ''}\\n\\nNot Interested Reason: ${reason}`.trim() : lead.notes,\r\n    status: \"dropped\" as LeadStatus,\r\n  }\r\n  notInterested.push(leadWithReason)\r\n  saveToStorage(STORAGE_KEYS.notInterested, notInterested)\r\n  \r\n  // Remove from active leads\r\n  deleteLead(lead.id)\r\n  \r\n  // Add activity\r\n  addActivity({\r\n    id: generateId(),\r\n    leadId: lead.id,\r\n    contactId: lead.contactId,\r\n    type: \"status_changed\",\r\n    description: `Lead marked as \"Not interested at this time\"${reason ? `: ${reason}` : ''}`,\r\n    user: \"me\", // TODO: Get from auth\r\n    createdAt: new Date().toISOString(),\r\n  })\r\n}\r\n\r\n// Lead Conversion Functions\r\nexport function convertLeadToOpportunity(lead: Lead, contact: Contact, subSource?: string): Opportunity {\r\n  // Map lead source to opportunity source\r\n  const sourceMap: Record<LeadSource, OpportunitySource> = {\r\n    webform: \"webform\",\r\n    cold_call: \"cold_outreach\",\r\n    social_media: \"social\",\r\n    previous_enquiry: \"previous_enquiry\",\r\n    previous_client: \"previous_client\",\r\n    forwarded: \"forwarded\",\r\n  }\r\n  \r\n  const opportunity: Opportunity = {\r\n    id: generateId(),\r\n    title: `Opportunity - ${contact.name}`,\r\n    contactId: lead.contactId,\r\n    source: sourceMap[lead.source],\r\n    subSource: subSource || getDefaultSubSource(lead.source),\r\n    assignedTo: lead.assignedTo,\r\n    status: \"open\",\r\n    value: lead.value,\r\n    currency: \"USD\",\r\n    notes: lead.notes,\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  }\r\n  \r\n  saveOpportunity(opportunity)\r\n  \r\n  // Remove from leads\r\n  deleteLead(lead.id)\r\n  \r\n  // Add activity\r\n  addActivity({\r\n    id: generateId(),\r\n    opportunityId: opportunity.id,\r\n    contactId: contact.id,\r\n    type: \"note_added\",\r\n    description: `Lead converted to Opportunity (Enquiry)`,\r\n    user: \"me\", // TODO: Get from auth\r\n    createdAt: new Date().toISOString(),\r\n  })\r\n  \r\n  return opportunity\r\n}\r\n\r\nfunction getDefaultSubSource(leadSource: LeadSource): string {\r\n  const defaults: Record<LeadSource, string> = {\r\n    webform: \"Website Form\",\r\n    cold_call: \"Phone – Outbound\",\r\n    social_media: \"Social Media – Organic\",\r\n    previous_enquiry: \"Reactivation\",\r\n    previous_client: \"Return Guest\",\r\n    forwarded: \"Email Forward\",\r\n  }\r\n  return defaults[leadSource] || \"Unknown\"\r\n}\r\n\r\n// Default templates for Outlook integration\r\nconst defaultTemplates: EmailTemplate[] = [\r\n  {\r\n    id: \"template-1\",\r\n    name: \"Initial Enquiry Response\",\r\n    subject: \"Thank you for your enquiry\",\r\n    body: `Dear {{name}},\r\n\r\nThank you for your enquiry about our services. We appreciate your interest and would love to help you.\r\n\r\nI'll be reviewing your requirements and will get back to you shortly with more details about how we can assist you.\r\n\r\nIn the meantime, please don't hesitate to reach out if you have any questions.\r\n\r\nBest regards`,\r\n    type: \"enquiry\",\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  },\r\n  {\r\n    id: \"template-2\",\r\n    name: \"Follow-up After Call\",\r\n    subject: \"Following up on our conversation\",\r\n    body: `Dear {{name}},\r\n\r\nIt was great speaking with you today. As discussed, I wanted to follow up with the details we covered.\r\n\r\n{{notes}}\r\n\r\nPlease let me know if you have any questions or would like to proceed.\r\n\r\nBest regards`,\r\n    type: \"follow_up\",\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  },\r\n  {\r\n    id: \"template-3\",\r\n    name: \"Promotion Outreach\",\r\n    subject: \"Special Offer Just for You\",\r\n    body: `Dear {{name}},\r\n\r\nI hope this email finds you well. I wanted to reach out to let you know about our current promotion.\r\n\r\n{{promotion_details}}\r\n\r\nThis offer is available for a limited time, so please don't hesitate to get in touch if you're interested.\r\n\r\nBest regards`,\r\n    type: \"promotion\",\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  },\r\n  {\r\n    id: \"template-4\",\r\n    name: \"Previous Client Return\",\r\n    subject: \"We'd love to have you back!\",\r\n    body: `Dear {{name}},\r\n\r\nI hope you're doing well! It's been a while since your last stay with us, and we've been thinking about you.\r\n\r\nWe'd love to welcome you back. Please let me know if you're interested in planning another visit.\r\n\r\nBest regards`,\r\n    type: \"return_client\",\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  },\r\n]\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1494, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/components/opportunity-form-dialog.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { getContacts, getOpportunities, saveOpportunity, generateId } from \"@/lib/store\"\r\nimport type { Opportunity, Contact, OpportunitySource } from \"@/lib/types\"\r\nimport { X } from \"lucide-react\"\r\n\r\ninterface OpportunityFormDialogProps {\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n  existingOpportunity?: Opportunity\r\n  existingContact?: Contact\r\n  onSave: () => void\r\n}\r\n\r\nconst SOURCE_OPTIONS: { value: OpportunitySource; label: string; subSources: string[] }[] = [\r\n  {\r\n    value: \"webform\",\r\n    label: \"Webform\",\r\n    subSources: [\"Website Form\", \"Website Form – Special Offer\", \"Contact Form\", \"Booking Form\"]\r\n  },\r\n  {\r\n    value: \"cold_outreach\",\r\n    label: \"Cold Outreach\",\r\n    subSources: [\"Phone – Outbound\", \"Email – Outbound\", \"LinkedIn – Outbound\", \"Prospecting List\"]\r\n  },\r\n  {\r\n    value: \"social\",\r\n    label: \"Social Media\",\r\n    subSources: [\"Facebook DM\", \"Facebook Lead Form\", \"Instagram DM\", \"Instagram Lead Form\", \"LinkedIn InMail\", \"LinkedIn Lead Form\", \"Facebook – Organic\", \"Instagram – Organic\", \"LinkedIn – Organic\", \"Facebook – Paid\", \"Instagram – Paid\", \"LinkedIn – Paid\"]\r\n  },\r\n  {\r\n    value: \"previous_enquiry\",\r\n    label: \"Previous Enquiry\",\r\n    subSources: [\"Reactivation\", \"Follow-up\", \"Return Enquiry\"]\r\n  },\r\n  {\r\n    value: \"previous_client\",\r\n    label: \"Previous Client\",\r\n    subSources: [\"Return Guest\", \"Repeat Booking\", \"Referral\"]\r\n  },\r\n  {\r\n    value: \"forwarded\",\r\n    label: \"Forwarded\",\r\n    subSources: [\"Email Forward\", \"Referral\", \"Internal Transfer\"]\r\n  }\r\n]\r\n\r\nexport function OpportunityFormDialog({\r\n  open,\r\n  onOpenChange,\r\n  existingOpportunity,\r\n  existingContact,\r\n  onSave,\r\n}: OpportunityFormDialogProps) {\r\n  const [contacts, setContacts] = useState<Contact[]>([])\r\n  const [opportunities, setOpportunities] = useState<Opportunity[]>([])\r\n  const [formData, setFormData] = useState({\r\n    title: \"\",\r\n    contactId: \"\",\r\n    source: \"\" as OpportunitySource | \"\",\r\n    subSource: \"\",\r\n    linkedOpportunityId: \"\",\r\n    assignedTo: \"me\" as \"linda\" | \"me\",\r\n    value: \"\",\r\n    currency: \"USD\",\r\n    notes: \"\",\r\n    formId: \"\",\r\n    campaignId: \"\",\r\n    leadId: \"\",\r\n    originList: \"\",\r\n  })\r\n\r\n  useEffect(() => {\r\n    setContacts(getContacts())\r\n    setOpportunities(getOpportunities())\r\n    \r\n    if (existingOpportunity) {\r\n      setFormData({\r\n        title: existingOpportunity.title || \"\",\r\n        contactId: existingOpportunity.contactId,\r\n        source: existingOpportunity.source,\r\n        subSource: existingOpportunity.subSource || \"\",\r\n        linkedOpportunityId: existingOpportunity.linkedOpportunityId || \"\",\r\n        assignedTo: existingOpportunity.assignedTo,\r\n        value: existingOpportunity.value?.toString() || \"\",\r\n        currency: existingOpportunity.currency || \"USD\",\r\n        notes: existingOpportunity.notes || \"\",\r\n        formId: existingOpportunity.formId || \"\",\r\n        campaignId: existingOpportunity.campaignId || \"\",\r\n        leadId: existingOpportunity.leadId || \"\",\r\n        originList: existingOpportunity.originList || \"\",\r\n      })\r\n    } else if (existingContact) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        contactId: existingContact.id,\r\n        title: existingContact.name ? `Opportunity - ${existingContact.name}` : \"\",\r\n      }))\r\n    } else {\r\n      setFormData({\r\n        title: \"\",\r\n        contactId: \"\",\r\n        source: \"\" as OpportunitySource | \"\",\r\n        subSource: \"\",\r\n        linkedOpportunityId: \"\",\r\n        assignedTo: \"me\",\r\n        value: \"\",\r\n        currency: \"USD\",\r\n        notes: \"\",\r\n        formId: \"\",\r\n        campaignId: \"\",\r\n        leadId: \"\",\r\n        originList: \"\",\r\n      })\r\n    }\r\n  }, [existingOpportunity, existingContact, open])\r\n\r\n  const selectedSource = SOURCE_OPTIONS.find(s => s.value === formData.source)\r\n  const availableSubSources = selectedSource?.subSources || []\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    if (!formData.contactId || !formData.source || !formData.subSource) {\r\n      alert(\"Please fill in all required fields (Contact, Source, Sub-source)\")\r\n      return\r\n    }\r\n\r\n    const opportunity: Opportunity = {\r\n      id: existingOpportunity?.id || generateId(),\r\n      title: formData.title || `Opportunity - ${contacts.find(c => c.id === formData.contactId)?.name || 'Unknown'}`,\r\n      contactId: formData.contactId,\r\n      source: formData.source as OpportunitySource,\r\n      subSource: formData.subSource,\r\n      linkedOpportunityId: formData.linkedOpportunityId || undefined,\r\n      assignedTo: formData.assignedTo,\r\n      status: existingOpportunity?.status || \"open\",\r\n      value: formData.value ? parseFloat(formData.value) : undefined,\r\n      currency: formData.currency,\r\n      notes: formData.notes || undefined,\r\n      formId: formData.formId || undefined,\r\n      campaignId: formData.campaignId || undefined,\r\n      leadId: formData.leadId || undefined,\r\n      originList: formData.originList || undefined,\r\n      createdAt: existingOpportunity?.createdAt || new Date().toISOString(),\r\n      updatedAt: new Date().toISOString(),\r\n    }\r\n\r\n    saveOpportunity(opportunity)\r\n    onSave()\r\n    onOpenChange(false)\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <DialogTitle>{existingOpportunity ? \"Edit Opportunity\" : \"Create Opportunity\"}</DialogTitle>\r\n          <DialogDescription>\r\n            Create a new opportunity with source tracking for commission evidence.\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"contact\">Contact *</Label>\r\n              <Select\r\n                value={formData.contactId}\r\n                onValueChange={(value) => setFormData({ ...formData, contactId: value })}\r\n                disabled={!!existingContact}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select contact\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {contacts.map((contact) => (\r\n                    <SelectItem key={contact.id} value={contact.id}>\r\n                      {contact.name} ({contact.email})\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"title\">Title</Label>\r\n              <Input\r\n                id=\"title\"\r\n                value={formData.title}\r\n                onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n                placeholder=\"Opportunity title\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"source\">Source *</Label>\r\n              <Select\r\n                value={formData.source}\r\n                onValueChange={(value) => {\r\n                  setFormData({ ...formData, source: value as OpportunitySource, subSource: \"\" })\r\n                }}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select source\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {SOURCE_OPTIONS.map((option) => (\r\n                    <SelectItem key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"subSource\">Sub-source *</Label>\r\n              <Select\r\n                value={formData.subSource}\r\n                onValueChange={(value) => setFormData({ ...formData, subSource: value })}\r\n                disabled={!formData.source}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select sub-source\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {availableSubSources.map((subSource) => (\r\n                    <SelectItem key={subSource} value={subSource}>\r\n                      {subSource}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n\r\n          {(formData.source === \"previous_enquiry\" || formData.source === \"previous_client\") && (\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"linkedOpportunity\">Link to Previous Opportunity</Label>\r\n              <Select\r\n                value={formData.linkedOpportunityId}\r\n                onValueChange={(value) => setFormData({ ...formData, linkedOpportunityId: value })}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select previous opportunity (optional)\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"\">None</SelectItem>\r\n                  {opportunities\r\n                    .filter(o => o.contactId === formData.contactId && o.id !== existingOpportunity?.id)\r\n                    .map((opp) => (\r\n                      <SelectItem key={opp.id} value={opp.id}>\r\n                        {opp.title} ({opp.source} - {opp.subSource})\r\n                      </SelectItem>\r\n                    ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          )}\r\n\r\n          {formData.source === \"webform\" && (\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"formId\">Form ID</Label>\r\n                <Input\r\n                  id=\"formId\"\r\n                  value={formData.formId}\r\n                  onChange={(e) => setFormData({ ...formData, formId: e.target.value })}\r\n                  placeholder=\"e.g., contact-form-2024\"\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {formData.source === \"social\" && (\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"campaignId\">Campaign ID</Label>\r\n                <Input\r\n                  id=\"campaignId\"\r\n                  value={formData.campaignId}\r\n                  onChange={(e) => setFormData({ ...formData, campaignId: e.target.value })}\r\n                  placeholder=\"For paid ads\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"leadId\">Lead ID</Label>\r\n                <Input\r\n                  id=\"leadId\"\r\n                  value={formData.leadId}\r\n                  onChange={(e) => setFormData({ ...formData, leadId: e.target.value })}\r\n                  placeholder=\"Platform lead ID\"\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {formData.source === \"cold_outreach\" && (\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"originList\">Origin List</Label>\r\n              <Input\r\n                id=\"originList\"\r\n                value={formData.originList}\r\n                onChange={(e) => setFormData({ ...formData, originList: e.target.value })}\r\n                placeholder=\"e.g., Prospecting list – August 2025\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"grid grid-cols-3 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"assignedTo\">Assigned To</Label>\r\n              <Select\r\n                value={formData.assignedTo}\r\n                onValueChange={(value) => setFormData({ ...formData, assignedTo: value as \"linda\" | \"me\" })}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"me\">Me</SelectItem>\r\n                  <SelectItem value=\"linda\">Linda</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"value\">Value</Label>\r\n              <Input\r\n                id=\"value\"\r\n                type=\"number\"\r\n                step=\"0.01\"\r\n                value={formData.value}\r\n                onChange={(e) => setFormData({ ...formData, value: e.target.value })}\r\n                placeholder=\"0.00\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"currency\">Currency</Label>\r\n              <Select\r\n                value={formData.currency}\r\n                onValueChange={(value) => setFormData({ ...formData, currency: value })}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"USD\">USD</SelectItem>\r\n                  <SelectItem value=\"EUR\">EUR</SelectItem>\r\n                  <SelectItem value=\"GBP\">GBP</SelectItem>\r\n                  <SelectItem value=\"ZAR\">ZAR</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"notes\">Notes</Label>\r\n            <Textarea\r\n              id=\"notes\"\r\n              value={formData.notes}\r\n              onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\r\n              placeholder=\"Additional notes...\"\r\n              rows={4}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex justify-end gap-2\">\r\n            <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\">Save Opportunity</Button>\r\n          </div>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2418, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/components/call-log-dialog.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { getContacts, getOpportunities, saveCallLog, generateId } from \"@/lib/store\"\r\nimport type { CallLog, Contact } from \"@/lib/types\"\r\n\r\ninterface CallLogDialogProps {\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n  opportunityId?: string\r\n  contactId?: string\r\n  onSave: () => void\r\n}\r\n\r\nconst CALL_OUTCOMES = [\r\n  \"Answered - Interested\",\r\n  \"Answered - Not Interested\",\r\n  \"Answered - Callback Requested\",\r\n  \"No Answer\",\r\n  \"Voicemail Left\",\r\n  \"Busy\",\r\n  \"Wrong Number\",\r\n  \"Not Available\",\r\n]\r\n\r\nexport function CallLogDialog({\r\n  open,\r\n  onOpenChange,\r\n  opportunityId,\r\n  contactId,\r\n  onSave,\r\n}: CallLogDialogProps) {\r\n  const [contacts, setContacts] = useState<Contact[]>([])\r\n  const [formData, setFormData] = useState({\r\n    contactId: contactId || \"\",\r\n    opportunityId: opportunityId || \"\",\r\n    phoneNumber: \"\",\r\n    direction: \"outbound\" as \"inbound\" | \"outbound\",\r\n    duration: \"\",\r\n    outcome: \"\",\r\n    notes: \"\",\r\n    originList: \"\",\r\n    occurredAt: new Date().toISOString().slice(0, 16), // Format for datetime-local input\r\n  })\r\n\r\n  useEffect(() => {\r\n    setContacts(getContacts())\r\n    if (contactId) {\r\n      const contact = getContacts().find(c => c.id === contactId)\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        contactId,\r\n        phoneNumber: contact?.phone || \"\",\r\n      }))\r\n    }\r\n    if (opportunityId) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        opportunityId,\r\n      }))\r\n    }\r\n  }, [open, contactId, opportunityId])\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n\r\n    if (!formData.contactId || !formData.phoneNumber) {\r\n      alert(\"Please fill in Contact and Phone Number\")\r\n      return\r\n    }\r\n\r\n    const callLog: CallLog = {\r\n      id: generateId(),\r\n      opportunityId: formData.opportunityId || undefined,\r\n      contactId: formData.contactId,\r\n      phoneNumber: formData.phoneNumber,\r\n      direction: formData.direction,\r\n      duration: formData.duration ? parseInt(formData.duration) : undefined,\r\n      outcome: formData.outcome || undefined,\r\n      notes: formData.notes || undefined,\r\n      originList: formData.originList || undefined,\r\n      user: \"me\", // TODO: Get from auth context\r\n      occurredAt: new Date(formData.occurredAt).toISOString(),\r\n      createdAt: new Date().toISOString(),\r\n    }\r\n\r\n    saveCallLog(callLog)\r\n    onSave()\r\n    onOpenChange(false)\r\n    \r\n    // Reset form\r\n    setFormData({\r\n      contactId: contactId || \"\",\r\n      opportunityId: opportunityId || \"\",\r\n      phoneNumber: \"\",\r\n      direction: \"outbound\",\r\n      duration: \"\",\r\n      outcome: \"\",\r\n      notes: \"\",\r\n      originList: \"\",\r\n      occurredAt: new Date().toISOString().slice(0, 16),\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-2xl\">\r\n        <DialogHeader>\r\n          <DialogTitle>Log Phone Call</DialogTitle>\r\n          <DialogDescription>\r\n            Record a phone call for evidence tracking and commission purposes.\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"contact\">Contact *</Label>\r\n              <Select\r\n                value={formData.contactId}\r\n                onValueChange={(value) => {\r\n                  const contact = contacts.find(c => c.id === value)\r\n                  setFormData({\r\n                    ...formData,\r\n                    contactId: value,\r\n                    phoneNumber: contact?.phone || formData.phoneNumber,\r\n                  })\r\n                }}\r\n                disabled={!!contactId}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select contact\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {contacts.map((contact) => (\r\n                    <SelectItem key={contact.id} value={contact.id}>\r\n                      {contact.name} ({contact.email})\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"phoneNumber\">Phone Number *</Label>\r\n              <Input\r\n                id=\"phoneNumber\"\r\n                value={formData.phoneNumber}\r\n                onChange={(e) => setFormData({ ...formData, phoneNumber: e.target.value })}\r\n                placeholder=\"+1234567890\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"direction\">Direction *</Label>\r\n              <Select\r\n                value={formData.direction}\r\n                onValueChange={(value) => setFormData({ ...formData, direction: value as \"inbound\" | \"outbound\" })}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"inbound\">Inbound</SelectItem>\r\n                  <SelectItem value=\"outbound\">Outbound</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"occurredAt\">Date & Time *</Label>\r\n              <Input\r\n                id=\"occurredAt\"\r\n                type=\"datetime-local\"\r\n                value={formData.occurredAt}\r\n                onChange={(e) => setFormData({ ...formData, occurredAt: e.target.value })}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {formData.direction === \"outbound\" && (\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"originList\">Origin List</Label>\r\n              <Input\r\n                id=\"originList\"\r\n                value={formData.originList}\r\n                onChange={(e) => setFormData({ ...formData, originList: e.target.value })}\r\n                placeholder=\"e.g., Prospecting list – August 2025\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"duration\">Duration (seconds)</Label>\r\n              <Input\r\n                id=\"duration\"\r\n                type=\"number\"\r\n                value={formData.duration}\r\n                onChange={(e) => setFormData({ ...formData, duration: e.target.value })}\r\n                placeholder=\"120\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"outcome\">Outcome</Label>\r\n              <Select\r\n                value={formData.outcome}\r\n                onValueChange={(value) => setFormData({ ...formData, outcome: value })}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select outcome\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"\">None</SelectItem>\r\n                  {CALL_OUTCOMES.map((outcome) => (\r\n                    <SelectItem key={outcome} value={outcome}>\r\n                      {outcome}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"notes\">Notes</Label>\r\n            <Textarea\r\n              id=\"notes\"\r\n              value={formData.notes}\r\n              onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\r\n              placeholder=\"Brief notes about the call...\"\r\n              rows={4}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex justify-end gap-2\">\r\n            <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\">Log Call</Button>\r\n          </div>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2982, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/app/opportunities/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useParams, useRouter } from \"next/navigation\"\r\nimport { Sidebar } from \"@/components/sidebar\"\r\nimport { Header } from \"@/components/header\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport { OpportunityFormDialog } from \"@/components/opportunity-form-dialog\"\r\nimport { CallLogDialog } from \"@/components/call-log-dialog\"\r\nimport { getOpportunities, getContacts, getActivities, getCallLogs, getAuditTrail, getCommissionSnapshot, getDisputes, saveOpportunity, generateId, addActivity } from \"@/lib/store\"\r\nimport type { Opportunity, Contact, Activity, CallLog, AuditTrail, CommissionSnapshot, Dispute } from \"@/lib/types\"\r\nimport { Phone, Mail, ExternalLink, Calendar, DollarSign, User, FileText, AlertCircle, CheckCircle2, XCircle, RotateCcw } from \"lucide-react\"\r\nimport { format } from \"date-fns\"\r\nimport Link from \"next/link\"\r\n\r\nconst STATUS_COLORS: Record<string, string> = {\r\n  open: \"bg-blue-500/10 text-blue-500\",\r\n  won: \"bg-green-500/10 text-green-500\",\r\n  lost: \"bg-gray-500/10 text-gray-500\",\r\n  reversed: \"bg-orange-500/10 text-orange-500\",\r\n}\r\n\r\nconst SOURCE_COLORS: Record<string, string> = {\r\n  webform: \"bg-purple-500/10 text-purple-500\",\r\n  cold_outreach: \"bg-yellow-500/10 text-yellow-500\",\r\n  social: \"bg-pink-500/10 text-pink-500\",\r\n  previous_enquiry: \"bg-cyan-500/10 text-cyan-500\",\r\n  previous_client: \"bg-emerald-500/10 text-emerald-500\",\r\n  forwarded: \"bg-indigo-500/10 text-indigo-500\",\r\n}\r\n\r\nexport default function OpportunityDetailPage() {\r\n  const params = useParams()\r\n  const router = useRouter()\r\n  const opportunityId = params.id as string\r\n\r\n  const [opportunity, setOpportunity] = useState<Opportunity | null>(null)\r\n  const [contact, setContact] = useState<Contact | null>(null)\r\n  const [activities, setActivities] = useState<Activity[]>([])\r\n  const [callLogs, setCallLogs] = useState<CallLog[]>([])\r\n  const [auditTrail, setAuditTrail] = useState<AuditTrail[]>([])\r\n  const [commissionSnapshot, setCommissionSnapshot] = useState<CommissionSnapshot | null>(null)\r\n  const [disputes, setDisputes] = useState<Dispute[]>([])\r\n  const [showEditDialog, setShowEditDialog] = useState(false)\r\n  const [showCallLogDialog, setShowCallLogDialog] = useState(false)\r\n\r\n  useEffect(() => {\r\n    loadData()\r\n    window.addEventListener(\"storage\", loadData)\r\n    return () => window.removeEventListener(\"storage\", loadData)\r\n  }, [opportunityId])\r\n\r\n  const loadData = () => {\r\n    const opps = getOpportunities()\r\n    const opp = opps.find(o => o.id === opportunityId)\r\n    if (!opp) {\r\n      router.push(\"/opportunities\")\r\n      return\r\n    }\r\n    setOpportunity(opp)\r\n\r\n    const contacts = getContacts()\r\n    const contactData = contacts.find(c => c.id === opp.contactId)\r\n    setContact(contactData || null)\r\n\r\n    const allActivities = getActivities()\r\n    setActivities(allActivities.filter(a => a.opportunityId === opportunityId || a.leadId === opportunityId))\r\n\r\n    setCallLogs(getCallLogs(opportunityId))\r\n    setAuditTrail(getAuditTrail(opportunityId))\r\n    setCommissionSnapshot(getCommissionSnapshot(opportunityId))\r\n    setDisputes(getDisputes(opportunityId))\r\n  }\r\n\r\n  const handleStatusChange = (newStatus: \"open\" | \"won\" | \"lost\" | \"reversed\") => {\r\n    if (!opportunity) return\r\n\r\n    if (newStatus === \"won\" && opportunity.status !== \"won\") {\r\n      // Create commission snapshot\r\n      const snapshot: CommissionSnapshot = {\r\n        id: generateId(),\r\n        opportunityId: opportunity.id,\r\n        finalValue: opportunity.value || 0,\r\n        currency: opportunity.currency || \"USD\",\r\n        commissionableAmount: opportunity.value || 0,\r\n        owner: opportunity.assignedTo,\r\n        source: opportunity.source,\r\n        subSource: opportunity.subSource,\r\n        firstTouchDate: activities[0]?.createdAt,\r\n        firstTouchActivityType: activities[0]?.type,\r\n        closedAt: new Date().toISOString(),\r\n        lockedBy: \"me\", // TODO: Get from auth\r\n        createdAt: new Date().toISOString(),\r\n      }\r\n      const { saveCommissionSnapshot } = require(\"@/lib/store\")\r\n      saveCommissionSnapshot(snapshot)\r\n    }\r\n\r\n    const updated: Opportunity = {\r\n      ...opportunity,\r\n      status: newStatus,\r\n      closedAt: newStatus === \"won\" || newStatus === \"lost\" ? new Date().toISOString() : undefined,\r\n      updatedAt: new Date().toISOString(),\r\n    }\r\n    saveOpportunity(updated)\r\n    loadData()\r\n  }\r\n\r\n  if (!opportunity || !contact) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background\">\r\n        <Sidebar />\r\n        <main className=\"ml-64 p-6\">Loading...</main>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background\">\r\n      <Sidebar />\r\n      <main className=\"ml-64\">\r\n        <Header title={opportunity.title} subtitle={`Opportunity Details - ${contact.name}`} />\r\n        <div className=\"p-6\">\r\n          {/* Header Actions */}\r\n          <div className=\"mb-6 flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <Badge className={STATUS_COLORS[opportunity.status]}>{opportunity.status}</Badge>\r\n              <Badge className={SOURCE_COLORS[opportunity.source]}>{opportunity.source.replace('_', ' ')}</Badge>\r\n              <span className=\"text-sm text-muted-foreground\">{opportunity.subSource}</span>\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              {opportunity.status === \"open\" && (\r\n                <>\r\n                  <Button variant=\"outline\" onClick={() => setShowCallLogDialog(true)}>\r\n                    <Phone className=\"mr-2 h-4 w-4\" />\r\n                    Log Call\r\n                  </Button>\r\n                  <Button variant=\"outline\" onClick={() => handleStatusChange(\"won\")}>\r\n                    <CheckCircle2 className=\"mr-2 h-4 w-4\" />\r\n                    Mark Won\r\n                  </Button>\r\n                  <Button variant=\"outline\" onClick={() => handleStatusChange(\"lost\")}>\r\n                    <XCircle className=\"mr-2 h-4 w-4\" />\r\n                    Mark Lost\r\n                  </Button>\r\n                </>\r\n              )}\r\n              {opportunity.status === \"won\" && (\r\n                <Button variant=\"outline\" onClick={() => handleStatusChange(\"reversed\")}>\r\n                  <RotateCcw className=\"mr-2 h-4 w-4\" />\r\n                  Reverse\r\n                </Button>\r\n              )}\r\n              <Button onClick={() => setShowEditDialog(true)} disabled={opportunity.status === \"won\"}>\r\n                Edit\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          <Tabs defaultValue=\"overview\" className=\"space-y-4\">\r\n            <TabsList>\r\n              <TabsTrigger value=\"overview\">Overview</TabsTrigger>\r\n              <TabsTrigger value=\"activities\">Activities</TabsTrigger>\r\n              <TabsTrigger value=\"calls\">Call Logs</TabsTrigger>\r\n              <TabsTrigger value=\"audit\">Audit Trail</TabsTrigger>\r\n              {opportunity.status === \"won\" && <TabsTrigger value=\"commission\">Commission</TabsTrigger>}\r\n              {disputes.length > 0 && <TabsTrigger value=\"disputes\">Disputes</TabsTrigger>}\r\n            </TabsList>\r\n\r\n            <TabsContent value=\"overview\" className=\"space-y-4\">\r\n              <div className=\"grid gap-4 md:grid-cols-2\">\r\n                <Card>\r\n                  <CardHeader>\r\n                    <CardTitle>Contact Information</CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent className=\"space-y-2\">\r\n                    <div>\r\n                      <p className=\"text-sm text-muted-foreground\">Name</p>\r\n                      <p className=\"font-medium\">{contact.name}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-muted-foreground\">Email</p>\r\n                      <p className=\"font-medium\">{contact.email}</p>\r\n                    </div>\r\n                    {contact.phone && (\r\n                      <div>\r\n                        <p className=\"text-sm text-muted-foreground\">Phone</p>\r\n                        <p className=\"font-medium\">{contact.phone}</p>\r\n                      </div>\r\n                    )}\r\n                    {contact.company && (\r\n                      <div>\r\n                        <p className=\"text-sm text-muted-foreground\">Company</p>\r\n                        <p className=\"font-medium\">{contact.company}</p>\r\n                      </div>\r\n                    )}\r\n                  </CardContent>\r\n                </Card>\r\n\r\n                <Card>\r\n                  <CardHeader>\r\n                    <CardTitle>Opportunity Details</CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent className=\"space-y-2\">\r\n                    <div>\r\n                      <p className=\"text-sm text-muted-foreground\">Assigned To</p>\r\n                      <p className=\"font-medium capitalize\">{opportunity.assignedTo}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-muted-foreground\">Value</p>\r\n                      <p className=\"font-medium\">\r\n                        {opportunity.value ? `${opportunity.currency || \"USD\"} ${opportunity.value.toLocaleString()}` : \"Not set\"}\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-muted-foreground\">Created</p>\r\n                      <p className=\"font-medium\">{format(new Date(opportunity.createdAt), \"PPp\")}</p>\r\n                    </div>\r\n                    {opportunity.closedAt && (\r\n                      <div>\r\n                        <p className=\"text-sm text-muted-foreground\">Closed</p>\r\n                        <p className=\"font-medium\">{format(new Date(opportunity.closedAt), \"PPp\")}</p>\r\n                      </div>\r\n                    )}\r\n                    {opportunity.linkedOpportunityId && (\r\n                      <div>\r\n                        <p className=\"text-sm text-muted-foreground\">Linked Opportunity</p>\r\n                        <Link href={`/opportunities/${opportunity.linkedOpportunityId}`}>\r\n                          <Button variant=\"link\" className=\"p-0 h-auto\">\r\n                            View Linked\r\n                          </Button>\r\n                        </Link>\r\n                      </div>\r\n                    )}\r\n                  </CardContent>\r\n                </Card>\r\n              </div>\r\n\r\n              {opportunity.notes && (\r\n                <Card>\r\n                  <CardHeader>\r\n                    <CardTitle>Notes</CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    <p className=\"text-sm whitespace-pre-wrap\">{opportunity.notes}</p>\r\n                  </CardContent>\r\n                </Card>\r\n              )}\r\n            </TabsContent>\r\n\r\n            <TabsContent value=\"activities\" className=\"space-y-4\">\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle>Activity Timeline</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  {activities.length === 0 ? (\r\n                    <p className=\"text-sm text-muted-foreground\">No activities recorded yet.</p>\r\n                  ) : (\r\n                    <div className=\"space-y-4\">\r\n                      {activities.map((activity) => (\r\n                        <div key={activity.id} className=\"flex gap-4 border-l-2 border-border pl-4\">\r\n                          <div className=\"flex-1\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              {activity.type === \"email_sent\" || activity.type === \"email_received\" ? (\r\n                                <Mail className=\"h-4 w-4 text-muted-foreground\" />\r\n                              ) : activity.type === \"call_made\" || activity.type === \"call_received\" ? (\r\n                                <Phone className=\"h-4 w-4 text-muted-foreground\" />\r\n                              ) : (\r\n                                <FileText className=\"h-4 w-4 text-muted-foreground\" />\r\n                              )}\r\n                              <p className=\"font-medium\">{activity.description}</p>\r\n                              {activity.deepLink && (\r\n                                <a href={activity.deepLink} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                  <ExternalLink className=\"h-4 w-4 text-muted-foreground hover:text-foreground\" />\r\n                                </a>\r\n                              )}\r\n                            </div>\r\n                            <div className=\"mt-1 flex items-center gap-4 text-sm text-muted-foreground\">\r\n                              <span>{format(new Date(activity.createdAt), \"PPp\")}</span>\r\n                              <span>by {activity.user}</span>\r\n                              {activity.direction && (\r\n                                <Badge variant=\"outline\">{activity.direction}</Badge>\r\n                              )}\r\n                              {activity.platform && (\r\n                                <Badge variant=\"outline\">{activity.platform}</Badge>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            </TabsContent>\r\n\r\n            <TabsContent value=\"calls\" className=\"space-y-4\">\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle>Call Logs</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  {callLogs.length === 0 ? (\r\n                    <p className=\"text-sm text-muted-foreground\">No call logs recorded yet.</p>\r\n                  ) : (\r\n                    <div className=\"space-y-4\">\r\n                      {callLogs.map((call) => (\r\n                        <div key={call.id} className=\"border rounded-lg p-4\">\r\n                          <div className=\"flex items-center justify-between\">\r\n                            <div>\r\n                              <p className=\"font-medium\">{call.phoneNumber}</p>\r\n                              <p className=\"text-sm text-muted-foreground\">\r\n                                {format(new Date(call.occurredAt), \"PPp\")} • {call.direction} • {call.user}\r\n                              </p>\r\n                              {call.outcome && (\r\n                                <p className=\"text-sm mt-1\">{call.outcome}</p>\r\n                              )}\r\n                              {call.originList && (\r\n                                <p className=\"text-xs text-muted-foreground mt-1\">Origin: {call.originList}</p>\r\n                              )}\r\n                            </div>\r\n                            {call.duration && (\r\n                              <Badge>{Math.floor(call.duration / 60)}m {call.duration % 60}s</Badge>\r\n                            )}\r\n                          </div>\r\n                          {call.notes && (\r\n                            <p className=\"text-sm mt-2 text-muted-foreground\">{call.notes}</p>\r\n                          )}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            </TabsContent>\r\n\r\n            <TabsContent value=\"audit\" className=\"space-y-4\">\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle>Audit Trail</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  {auditTrail.length === 0 ? (\r\n                    <p className=\"text-sm text-muted-foreground\">No changes recorded yet.</p>\r\n                  ) : (\r\n                    <div className=\"space-y-2\">\r\n                      {auditTrail.map((entry) => (\r\n                        <div key={entry.id} className=\"flex items-center justify-between border rounded-lg p-3\">\r\n                          <div>\r\n                            <p className=\"font-medium\">{entry.fieldName}</p>\r\n                            <p className=\"text-sm text-muted-foreground\">\r\n                              {entry.oldValue ? `${entry.oldValue} → ${entry.newValue}` : `Set to ${entry.newValue}`}\r\n                            </p>\r\n                          </div>\r\n                          <div className=\"text-right\">\r\n                            <p className=\"text-sm font-medium\">{entry.changedBy}</p>\r\n                            <p className=\"text-xs text-muted-foreground\">{format(new Date(entry.changedAt), \"PPp\")}</p>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            </TabsContent>\r\n\r\n            {opportunity.status === \"won\" && (\r\n              <TabsContent value=\"commission\" className=\"space-y-4\">\r\n                <Card>\r\n                  <CardHeader>\r\n                    <CardTitle>Commission Snapshot</CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    {commissionSnapshot ? (\r\n                      <div className=\"space-y-4\">\r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                          <div>\r\n                            <p className=\"text-sm text-muted-foreground\">Final Value</p>\r\n                            <p className=\"text-2xl font-bold\">{commissionSnapshot.currency} {commissionSnapshot.finalValue.toLocaleString()}</p>\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"text-sm text-muted-foreground\">Commissionable Amount</p>\r\n                            <p className=\"text-2xl font-bold\">{commissionSnapshot.currency} {commissionSnapshot.commissionableAmount.toLocaleString()}</p>\r\n                          </div>\r\n                        </div>\r\n                        <div>\r\n                          <p className=\"text-sm text-muted-foreground\">Owner</p>\r\n                          <p className=\"font-medium capitalize\">{commissionSnapshot.owner}</p>\r\n                        </div>\r\n                        <div>\r\n                          <p className=\"text-sm text-muted-foreground\">Origin</p>\r\n                          <p className=\"font-medium\">{commissionSnapshot.source} - {commissionSnapshot.subSource}</p>\r\n                        </div>\r\n                        {commissionSnapshot.firstTouchDate && (\r\n                          <div>\r\n                            <p className=\"text-sm text-muted-foreground\">First Touch</p>\r\n                            <p className=\"font-medium\">{format(new Date(commissionSnapshot.firstTouchDate), \"PPp\")}</p>\r\n                          </div>\r\n                        )}\r\n                        <div>\r\n                          <p className=\"text-sm text-muted-foreground\">Locked By</p>\r\n                          <p className=\"font-medium\">{commissionSnapshot.lockedBy}</p>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <p className=\"text-sm text-muted-foreground\">No commission snapshot available.</p>\r\n                    )}\r\n                  </CardContent>\r\n                </Card>\r\n              </TabsContent>\r\n            )}\r\n          </Tabs>\r\n        </div>\r\n      </main>\r\n\r\n      <OpportunityFormDialog\r\n        open={showEditDialog}\r\n        onOpenChange={setShowEditDialog}\r\n        existingOpportunity={opportunity}\r\n        existingContact={contact}\r\n        onSave={loadData}\r\n      />\r\n\r\n      <CallLogDialog\r\n        open={showCallLogDialog}\r\n        onOpenChange={setShowCallLogDialog}\r\n        opportunityId={opportunityId}\r\n        contactId={contact.id}\r\n        onSave={loadData}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAhBA;;;;;;;;;;;;;;;;AAkBA,MAAM,gBAAwC;IAC5C,MAAM;IACN,KAAK;IACL,MAAM;IACN,UAAU;AACZ;AAEA,MAAM,gBAAwC;IAC5C,SAAS;IACT,eAAe;IACf,QAAQ;IACR,kBAAkB;IAClB,iBAAiB;IACjB,WAAW;AACb;AAEe,SAAS;IACtB,MAAM,SAAS,IAAA,wRAAS;IACxB,MAAM,SAAS,IAAA,wRAAS;IACxB,MAAM,gBAAgB,OAAO,EAAE;IAE/B,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,0VAAQ,EAAqB;IACnE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,0VAAQ,EAAiB;IACvD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,0VAAQ,EAAa,EAAE;IAC3D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,0VAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,0VAAQ,EAAe,EAAE;IAC7D,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,0VAAQ,EAA4B;IACxF,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,0VAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,0VAAQ,EAAC;IACrD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,0VAAQ,EAAC;IAE3D,IAAA,2VAAS,EAAC;QACR;QACA,OAAO,gBAAgB,CAAC,WAAW;QACnC,OAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;IACrD,GAAG;QAAC;KAAc;IAElB,MAAM,WAAW;QACf,MAAM,OAAO,IAAA,0IAAgB;QAC7B,MAAM,MAAM,KAAK,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;QACpC,IAAI,CAAC,KAAK;YACR,OAAO,IAAI,CAAC;YACZ;QACF;QACA,eAAe;QAEf,MAAM,WAAW,IAAA,qIAAW;QAC5B,MAAM,cAAc,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,IAAI,SAAS;QAC7D,WAAW,eAAe;QAE1B,MAAM,gBAAgB,IAAA,uIAAa;QACnC,cAAc,cAAc,MAAM,CAAC,CAAA,IAAK,EAAE,aAAa,KAAK,iBAAiB,EAAE,MAAM,KAAK;QAE1F,YAAY,IAAA,qIAAW,EAAC;QACxB,cAAc,IAAA,uIAAa,EAAC;QAC5B,sBAAsB,IAAA,+IAAqB,EAAC;QAC5C,YAAY,IAAA,qIAAW,EAAC;IAC1B;IAEA,MAAM,qBAAqB,CAAC;QAC1B,IAAI,CAAC,aAAa;QAElB,IAAI,cAAc,SAAS,YAAY,MAAM,KAAK,OAAO;YACvD,6BAA6B;YAC7B,MAAM,WAA+B;gBACnC,IAAI,IAAA,oIAAU;gBACd,eAAe,YAAY,EAAE;gBAC7B,YAAY,YAAY,KAAK,IAAI;gBACjC,UAAU,YAAY,QAAQ,IAAI;gBAClC,sBAAsB,YAAY,KAAK,IAAI;gBAC3C,OAAO,YAAY,UAAU;gBAC7B,QAAQ,YAAY,MAAM;gBAC1B,WAAW,YAAY,SAAS;gBAChC,gBAAgB,UAAU,CAAC,EAAE,EAAE;gBAC/B,wBAAwB,UAAU,CAAC,EAAE,EAAE;gBACvC,UAAU,IAAI,OAAO,WAAW;gBAChC,UAAU;gBACV,WAAW,IAAI,OAAO,WAAW;YACnC;YACA,MAAM,EAAE,sBAAsB,EAAE;YAChC,uBAAuB;QACzB;QAEA,MAAM,UAAuB;YAC3B,GAAG,WAAW;YACd,QAAQ;YACR,UAAU,cAAc,SAAS,cAAc,SAAS,IAAI,OAAO,WAAW,KAAK;YACnF,WAAW,IAAI,OAAO,WAAW;QACnC;QACA,IAAA,yIAAe,EAAC;QAChB;IACF;IAEA,IAAI,CAAC,eAAe,CAAC,SAAS;QAC5B,qBACE,uXAAC;YAAI,WAAU;;8BACb,uXAAC,2IAAO;;;;;8BACR,uXAAC;oBAAK,WAAU;8BAAY;;;;;;;;;;;;IAGlC;IAEA,qBACE,uXAAC;QAAI,WAAU;;0BACb,uXAAC,2IAAO;;;;;0BACR,uXAAC;gBAAK,WAAU;;kCACd,uXAAC,yIAAM;wBAAC,OAAO,YAAY,KAAK;wBAAE,UAAU,CAAC,sBAAsB,EAAE,QAAQ,IAAI,EAAE;;;;;;kCACnF,uXAAC;wBAAI,WAAU;;0CAEb,uXAAC;gCAAI,WAAU;;kDACb,uXAAC;wCAAI,WAAU;;0DACb,uXAAC,6IAAK;gDAAC,WAAW,aAAa,CAAC,YAAY,MAAM,CAAC;0DAAG,YAAY,MAAM;;;;;;0DACxE,uXAAC,6IAAK;gDAAC,WAAW,aAAa,CAAC,YAAY,MAAM,CAAC;0DAAG,YAAY,MAAM,CAAC,OAAO,CAAC,KAAK;;;;;;0DACtF,uXAAC;gDAAK,WAAU;0DAAiC,YAAY,SAAS;;;;;;;;;;;;kDAExE,uXAAC;wCAAI,WAAU;;4CACZ,YAAY,MAAM,KAAK,wBACtB;;kEACE,uXAAC,+IAAM;wDAAC,SAAQ;wDAAU,SAAS,IAAM,qBAAqB;;0EAC5D,uXAAC,2SAAK;gEAAC,WAAU;;;;;;4DAAiB;;;;;;;kEAGpC,uXAAC,+IAAM;wDAAC,SAAQ;wDAAU,SAAS,IAAM,mBAAmB;;0EAC1D,uXAAC,mUAAY;gEAAC,WAAU;;;;;;4DAAiB;;;;;;;kEAG3C,uXAAC,+IAAM;wDAAC,SAAQ;wDAAU,SAAS,IAAM,mBAAmB;;0EAC1D,uXAAC,qTAAO;gEAAC,WAAU;;;;;;4DAAiB;;;;;;;;;4CAKzC,YAAY,MAAM,KAAK,uBACtB,uXAAC,+IAAM;gDAAC,SAAQ;gDAAU,SAAS,IAAM,mBAAmB;;kEAC1D,uXAAC,2TAAS;wDAAC,WAAU;;;;;;oDAAiB;;;;;;;0DAI1C,uXAAC,+IAAM;gDAAC,SAAS,IAAM,kBAAkB;gDAAO,UAAU,YAAY,MAAM,KAAK;0DAAO;;;;;;;;;;;;;;;;;;0CAM5F,uXAAC,2IAAI;gCAAC,cAAa;gCAAW,WAAU;;kDACtC,uXAAC,+IAAQ;;0DACP,uXAAC,kJAAW;gDAAC,OAAM;0DAAW;;;;;;0DAC9B,uXAAC,kJAAW;gDAAC,OAAM;0DAAa;;;;;;0DAChC,uXAAC,kJAAW;gDAAC,OAAM;0DAAQ;;;;;;0DAC3B,uXAAC,kJAAW;gDAAC,OAAM;0DAAQ;;;;;;4CAC1B,YAAY,MAAM,KAAK,uBAAS,uXAAC,kJAAW;gDAAC,OAAM;0DAAa;;;;;;4CAChE,SAAS,MAAM,GAAG,mBAAK,uXAAC,kJAAW;gDAAC,OAAM;0DAAW;;;;;;;;;;;;kDAGxD,uXAAC,kJAAW;wCAAC,OAAM;wCAAW,WAAU;;0DACtC,uXAAC;gDAAI,WAAU;;kEACb,uXAAC,2IAAI;;0EACH,uXAAC,iJAAU;0EACT,cAAA,uXAAC,gJAAS;8EAAC;;;;;;;;;;;0EAEb,uXAAC,kJAAW;gEAAC,WAAU;;kFACrB,uXAAC;;0FACC,uXAAC;gFAAE,WAAU;0FAAgC;;;;;;0FAC7C,uXAAC;gFAAE,WAAU;0FAAe,QAAQ,IAAI;;;;;;;;;;;;kFAE1C,uXAAC;;0FACC,uXAAC;gFAAE,WAAU;0FAAgC;;;;;;0FAC7C,uXAAC;gFAAE,WAAU;0FAAe,QAAQ,KAAK;;;;;;;;;;;;oEAE1C,QAAQ,KAAK,kBACZ,uXAAC;;0FACC,uXAAC;gFAAE,WAAU;0FAAgC;;;;;;0FAC7C,uXAAC;gFAAE,WAAU;0FAAe,QAAQ,KAAK;;;;;;;;;;;;oEAG5C,QAAQ,OAAO,kBACd,uXAAC;;0FACC,uXAAC;gFAAE,WAAU;0FAAgC;;;;;;0FAC7C,uXAAC;gFAAE,WAAU;0FAAe,QAAQ,OAAO;;;;;;;;;;;;;;;;;;;;;;;;kEAMnD,uXAAC,2IAAI;;0EACH,uXAAC,iJAAU;0EACT,cAAA,uXAAC,gJAAS;8EAAC;;;;;;;;;;;0EAEb,uXAAC,kJAAW;gEAAC,WAAU;;kFACrB,uXAAC;;0FACC,uXAAC;gFAAE,WAAU;0FAAgC;;;;;;0FAC7C,uXAAC;gFAAE,WAAU;0FAA0B,YAAY,UAAU;;;;;;;;;;;;kFAE/D,uXAAC;;0FACC,uXAAC;gFAAE,WAAU;0FAAgC;;;;;;0FAC7C,uXAAC;gFAAE,WAAU;0FACV,YAAY,KAAK,GAAG,GAAG,YAAY,QAAQ,IAAI,MAAM,CAAC,EAAE,YAAY,KAAK,CAAC,cAAc,IAAI,GAAG;;;;;;;;;;;;kFAGpG,uXAAC;;0FACC,uXAAC;gFAAE,WAAU;0FAAgC;;;;;;0FAC7C,uXAAC;gFAAE,WAAU;0FAAe,IAAA,iOAAM,EAAC,IAAI,KAAK,YAAY,SAAS,GAAG;;;;;;;;;;;;oEAErE,YAAY,QAAQ,kBACnB,uXAAC;;0FACC,uXAAC;gFAAE,WAAU;0FAAgC;;;;;;0FAC7C,uXAAC;gFAAE,WAAU;0FAAe,IAAA,iOAAM,EAAC,IAAI,KAAK,YAAY,QAAQ,GAAG;;;;;;;;;;;;oEAGtE,YAAY,mBAAmB,kBAC9B,uXAAC;;0FACC,uXAAC;gFAAE,WAAU;0FAAgC;;;;;;0FAC7C,uXAAC,gTAAI;gFAAC,MAAM,CAAC,eAAe,EAAE,YAAY,mBAAmB,EAAE;0FAC7D,cAAA,uXAAC,+IAAM;oFAAC,SAAQ;oFAAO,WAAU;8FAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4CAUzD,YAAY,KAAK,kBAChB,uXAAC,2IAAI;;kEACH,uXAAC,iJAAU;kEACT,cAAA,uXAAC,gJAAS;sEAAC;;;;;;;;;;;kEAEb,uXAAC,kJAAW;kEACV,cAAA,uXAAC;4DAAE,WAAU;sEAA+B,YAAY,KAAK;;;;;;;;;;;;;;;;;;;;;;;kDAMrE,uXAAC,kJAAW;wCAAC,OAAM;wCAAa,WAAU;kDACxC,cAAA,uXAAC,2IAAI;;8DACH,uXAAC,iJAAU;8DACT,cAAA,uXAAC,gJAAS;kEAAC;;;;;;;;;;;8DAEb,uXAAC,kJAAW;8DACT,WAAW,MAAM,KAAK,kBACrB,uXAAC;wDAAE,WAAU;kEAAgC;;;;;6EAE7C,uXAAC;wDAAI,WAAU;kEACZ,WAAW,GAAG,CAAC,CAAC,yBACf,uXAAC;gEAAsB,WAAU;0EAC/B,cAAA,uXAAC;oEAAI,WAAU;;sFACb,uXAAC;4EAAI,WAAU;;gFACZ,SAAS,IAAI,KAAK,gBAAgB,SAAS,IAAI,KAAK,iCACnD,uXAAC,wSAAI;oFAAC,WAAU;;;;;2FACd,SAAS,IAAI,KAAK,eAAe,SAAS,IAAI,KAAK,gCACrD,uXAAC,2SAAK;oFAAC,WAAU;;;;;yGAEjB,uXAAC,wTAAQ;oFAAC,WAAU;;;;;;8FAEtB,uXAAC;oFAAE,WAAU;8FAAe,SAAS,WAAW;;;;;;gFAC/C,SAAS,QAAQ,kBAChB,uXAAC;oFAAE,MAAM,SAAS,QAAQ;oFAAE,QAAO;oFAAS,KAAI;8FAC9C,cAAA,uXAAC,oUAAY;wFAAC,WAAU;;;;;;;;;;;;;;;;;sFAI9B,uXAAC;4EAAI,WAAU;;8FACb,uXAAC;8FAAM,IAAA,iOAAM,EAAC,IAAI,KAAK,SAAS,SAAS,GAAG;;;;;;8FAC5C,uXAAC;;wFAAK;wFAAI,SAAS,IAAI;;;;;;;gFACtB,SAAS,SAAS,kBACjB,uXAAC,6IAAK;oFAAC,SAAQ;8FAAW,SAAS,SAAS;;;;;;gFAE7C,SAAS,QAAQ,kBAChB,uXAAC,6IAAK;oFAAC,SAAQ;8FAAW,SAAS,QAAQ;;;;;;;;;;;;;;;;;;+DAxBzC,SAAS,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;kDAoCjC,uXAAC,kJAAW;wCAAC,OAAM;wCAAQ,WAAU;kDACnC,cAAA,uXAAC,2IAAI;;8DACH,uXAAC,iJAAU;8DACT,cAAA,uXAAC,gJAAS;kEAAC;;;;;;;;;;;8DAEb,uXAAC,kJAAW;8DACT,SAAS,MAAM,KAAK,kBACnB,uXAAC;wDAAE,WAAU;kEAAgC;;;;;6EAE7C,uXAAC;wDAAI,WAAU;kEACZ,SAAS,GAAG,CAAC,CAAC,qBACb,uXAAC;gEAAkB,WAAU;;kFAC3B,uXAAC;wEAAI,WAAU;;0FACb,uXAAC;;kGACC,uXAAC;wFAAE,WAAU;kGAAe,KAAK,WAAW;;;;;;kGAC5C,uXAAC;wFAAE,WAAU;;4FACV,IAAA,iOAAM,EAAC,IAAI,KAAK,KAAK,UAAU,GAAG;4FAAO;4FAAI,KAAK,SAAS;4FAAC;4FAAI,KAAK,IAAI;;;;;;;oFAE3E,KAAK,OAAO,kBACX,uXAAC;wFAAE,WAAU;kGAAgB,KAAK,OAAO;;;;;;oFAE1C,KAAK,UAAU,kBACd,uXAAC;wFAAE,WAAU;;4FAAqC;4FAAS,KAAK,UAAU;;;;;;;;;;;;;4EAG7E,KAAK,QAAQ,kBACZ,uXAAC,6IAAK;;oFAAE,KAAK,KAAK,CAAC,KAAK,QAAQ,GAAG;oFAAI;oFAAG,KAAK,QAAQ,GAAG;oFAAG;;;;;;;;;;;;;oEAGhE,KAAK,KAAK,kBACT,uXAAC;wEAAE,WAAU;kFAAsC,KAAK,KAAK;;;;;;;+DAnBvD,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;kDA6B7B,uXAAC,kJAAW;wCAAC,OAAM;wCAAQ,WAAU;kDACnC,cAAA,uXAAC,2IAAI;;8DACH,uXAAC,iJAAU;8DACT,cAAA,uXAAC,gJAAS;kEAAC;;;;;;;;;;;8DAEb,uXAAC,kJAAW;8DACT,WAAW,MAAM,KAAK,kBACrB,uXAAC;wDAAE,WAAU;kEAAgC;;;;;6EAE7C,uXAAC;wDAAI,WAAU;kEACZ,WAAW,GAAG,CAAC,CAAC,sBACf,uXAAC;gEAAmB,WAAU;;kFAC5B,uXAAC;;0FACC,uXAAC;gFAAE,WAAU;0FAAe,MAAM,SAAS;;;;;;0FAC3C,uXAAC;gFAAE,WAAU;0FACV,MAAM,QAAQ,GAAG,GAAG,MAAM,QAAQ,CAAC,GAAG,EAAE,MAAM,QAAQ,EAAE,GAAG,CAAC,OAAO,EAAE,MAAM,QAAQ,EAAE;;;;;;;;;;;;kFAG1F,uXAAC;wEAAI,WAAU;;0FACb,uXAAC;gFAAE,WAAU;0FAAuB,MAAM,SAAS;;;;;;0FACnD,uXAAC;gFAAE,WAAU;0FAAiC,IAAA,iOAAM,EAAC,IAAI,KAAK,MAAM,SAAS,GAAG;;;;;;;;;;;;;+DAT1E,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;oCAmB7B,YAAY,MAAM,KAAK,uBACtB,uXAAC,kJAAW;wCAAC,OAAM;wCAAa,WAAU;kDACxC,cAAA,uXAAC,2IAAI;;8DACH,uXAAC,iJAAU;8DACT,cAAA,uXAAC,gJAAS;kEAAC;;;;;;;;;;;8DAEb,uXAAC,kJAAW;8DACT,mCACC,uXAAC;wDAAI,WAAU;;0EACb,uXAAC;gEAAI,WAAU;;kFACb,uXAAC;;0FACC,uXAAC;gFAAE,WAAU;0FAAgC;;;;;;0FAC7C,uXAAC;gFAAE,WAAU;;oFAAsB,mBAAmB,QAAQ;oFAAC;oFAAE,mBAAmB,UAAU,CAAC,cAAc;;;;;;;;;;;;;kFAE/G,uXAAC;;0FACC,uXAAC;gFAAE,WAAU;0FAAgC;;;;;;0FAC7C,uXAAC;gFAAE,WAAU;;oFAAsB,mBAAmB,QAAQ;oFAAC;oFAAE,mBAAmB,oBAAoB,CAAC,cAAc;;;;;;;;;;;;;;;;;;;0EAG3H,uXAAC;;kFACC,uXAAC;wEAAE,WAAU;kFAAgC;;;;;;kFAC7C,uXAAC;wEAAE,WAAU;kFAA0B,mBAAmB,KAAK;;;;;;;;;;;;0EAEjE,uXAAC;;kFACC,uXAAC;wEAAE,WAAU;kFAAgC;;;;;;kFAC7C,uXAAC;wEAAE,WAAU;;4EAAe,mBAAmB,MAAM;4EAAC;4EAAI,mBAAmB,SAAS;;;;;;;;;;;;;4DAEvF,mBAAmB,cAAc,kBAChC,uXAAC;;kFACC,uXAAC;wEAAE,WAAU;kFAAgC;;;;;;kFAC7C,uXAAC;wEAAE,WAAU;kFAAe,IAAA,iOAAM,EAAC,IAAI,KAAK,mBAAmB,cAAc,GAAG;;;;;;;;;;;;0EAGpF,uXAAC;;kFACC,uXAAC;wEAAE,WAAU;kFAAgC;;;;;;kFAC7C,uXAAC;wEAAE,WAAU;kFAAe,mBAAmB,QAAQ;;;;;;;;;;;;;;;;;6EAI3D,uXAAC;wDAAE,WAAU;kEAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAU7D,uXAAC,+KAAqB;gBACpB,MAAM;gBACN,cAAc;gBACd,qBAAqB;gBACrB,iBAAiB;gBACjB,QAAQ;;;;;;0BAGV,uXAAC,+JAAa;gBACZ,MAAM;gBACN,cAAc;gBACd,eAAe;gBACf,WAAW,QAAQ,EAAE;gBACrB,QAAQ;;;;;;;;;;;;AAIhB"}}]
}