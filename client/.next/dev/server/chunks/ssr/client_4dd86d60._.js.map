{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\r\nimport { twMerge } from 'tailwind-merge'\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,8OAAO,EAAC,IAAA,wMAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/components/sidebar.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport Link from \"next/link\"\r\nimport { usePathname } from \"next/navigation\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { LayoutDashboard, Users, UserPlus, Mail, Calendar, BarChart3, Settings, Briefcase, XCircle } from \"lucide-react\"\r\n\r\nconst navigation = [\r\n  { name: \"Dashboard\", href: \"/\", icon: LayoutDashboard },\r\n  { name: \"Opportunities\", href: \"/opportunities\", icon: Briefcase },\r\n  { name: \"Leads\", href: \"/leads\", icon: UserPlus },\r\n  { name: \"Not Interested\", href: \"/not-interested\", icon: XCircle },\r\n  { name: \"Contacts\", href: \"/contacts\", icon: Users },\r\n  { name: \"Follow-ups\", href: \"/follow-ups\", icon: Calendar },\r\n  { name: \"Templates\", href: \"/templates\", icon: Mail },\r\n  { name: \"Analytics\", href: \"/analytics\", icon: BarChart3 },\r\n]\r\n\r\nexport function Sidebar() {\r\n  const pathname = usePathname()\r\n\r\n  return (\r\n    <aside className=\"fixed left-0 top-0 z-40 h-screen w-64 border-r border-border bg-card\">\r\n      <div className=\"flex h-16 items-center gap-2 border-b border-border px-6\">\r\n        <div className=\"flex h-8 w-8 items-center justify-center rounded-lg bg-primary\">\r\n          <span className=\"text-sm font-bold text-primary-foreground\">CRM</span>\r\n        </div>\r\n        <span className=\"text-lg font-semibold text-foreground\">Sales CRM</span>\r\n      </div>\r\n\r\n      <nav className=\"flex flex-col gap-1 p-4\">\r\n        {navigation.map((item) => {\r\n          const isActive = pathname === item.href\r\n          return (\r\n            <Link\r\n              key={item.name}\r\n              href={item.href}\r\n              className={cn(\r\n                \"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors\",\r\n                isActive\r\n                  ? \"bg-primary text-primary-foreground\"\r\n                  : \"text-muted-foreground hover:bg-secondary hover:text-foreground\",\r\n              )}\r\n            >\r\n              <item.icon className=\"h-5 w-5\" />\r\n              {item.name}\r\n            </Link>\r\n          )\r\n        })}\r\n      </nav>\r\n\r\n      <div className=\"absolute bottom-4 left-4 right-4\">\r\n        <Link\r\n          href=\"/settings\"\r\n          className=\"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground\"\r\n        >\r\n          <Settings className=\"h-5 w-5\" />\r\n          Settings\r\n        </Link>\r\n      </div>\r\n    </aside>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALA;;;;;;AAOA,MAAM,aAAa;IACjB;QAAE,MAAM;QAAa,MAAM;QAAK,MAAM,6UAAe;IAAC;IACtD;QAAE,MAAM;QAAiB,MAAM;QAAkB,MAAM,uTAAS;IAAC;IACjE;QAAE,MAAM;QAAS,MAAM;QAAU,MAAM,wTAAQ;IAAC;IAChD;QAAE,MAAM;QAAkB,MAAM;QAAmB,MAAM,qTAAO;IAAC;IACjE;QAAE,MAAM;QAAY,MAAM;QAAa,MAAM,2SAAK;IAAC;IACnD;QAAE,MAAM;QAAc,MAAM;QAAe,MAAM,oTAAQ;IAAC;IAC1D;QAAE,MAAM;QAAa,MAAM;QAAc,MAAM,wSAAI;IAAC;IACpD;QAAE,MAAM;QAAa,MAAM;QAAc,MAAM,6TAAS;IAAC;CAC1D;AAEM,SAAS;IACd,MAAM,WAAW,IAAA,0RAAW;IAE5B,qBACE,uXAAC;QAAM,WAAU;;0BACf,uXAAC;gBAAI,WAAU;;kCACb,uXAAC;wBAAI,WAAU;kCACb,cAAA,uXAAC;4BAAK,WAAU;sCAA4C;;;;;;;;;;;kCAE9D,uXAAC;wBAAK,WAAU;kCAAwC;;;;;;;;;;;;0BAG1D,uXAAC;gBAAI,WAAU;0BACZ,WAAW,GAAG,CAAC,CAAC;oBACf,MAAM,WAAW,aAAa,KAAK,IAAI;oBACvC,qBACE,uXAAC,gTAAI;wBAEH,MAAM,KAAK,IAAI;wBACf,WAAW,IAAA,4HAAE,EACX,sFACA,WACI,uCACA;;0CAGN,uXAAC,KAAK,IAAI;gCAAC,WAAU;;;;;;4BACpB,KAAK,IAAI;;uBAVL,KAAK,IAAI;;;;;gBAapB;;;;;;0BAGF,uXAAC;gBAAI,WAAU;0BACb,cAAA,uXAAC,gTAAI;oBACH,MAAK;oBACL,WAAU;;sCAEV,uXAAC,oTAAQ;4BAAC,WAAU;;;;;;wBAAY;;;;;;;;;;;;;;;;;;AAM1C"}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive:\r\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\r\n        secondary:\r\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        ghost:\r\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n      },\r\n      size: {\r\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\r\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\r\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\r\n        icon: 'size-9',\r\n        'icon-sm': 'size-8',\r\n        'icon-lg': 'size-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'button'> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : 'button'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,4PAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,sTAAI,GAAG;IAE9B,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\r\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,uXAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/components/header.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Bell, Search } from \"lucide-react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\n\r\ninterface HeaderProps {\r\n  title: string\r\n  subtitle?: string\r\n}\r\n\r\nexport function Header({ title, subtitle }: HeaderProps) {\r\n  return (\r\n    <header className=\"flex h-16 items-center justify-between border-b border-border bg-card px-6\">\r\n      <div>\r\n        <h1 className=\"text-xl font-semibold text-foreground\">{title}</h1>\r\n        {subtitle && <p className=\"text-sm text-muted-foreground\">{subtitle}</p>}\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-4\">\r\n        <div className=\"relative\">\r\n          <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\r\n          <Input placeholder=\"Search...\" className=\"w-64 bg-secondary pl-10\" />\r\n        </div>\r\n        <Button variant=\"ghost\" size=\"icon\" className=\"relative\">\r\n          <Bell className=\"h-5 w-5\" />\r\n          <span className=\"absolute -right-1 -top-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[10px] text-primary-foreground\">\r\n            3\r\n          </span>\r\n        </Button>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AAJA;;;;;AAWO,SAAS,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAe;IACrD,qBACE,uXAAC;QAAO,WAAU;;0BAChB,uXAAC;;kCACC,uXAAC;wBAAG,WAAU;kCAAyC;;;;;;oBACtD,0BAAY,uXAAC;wBAAE,WAAU;kCAAiC;;;;;;;;;;;;0BAG7D,uXAAC;gBAAI,WAAU;;kCACb,uXAAC;wBAAI,WAAU;;0CACb,uXAAC,8SAAM;gCAAC,WAAU;;;;;;0CAClB,uXAAC,6IAAK;gCAAC,aAAY;gCAAY,WAAU;;;;;;;;;;;;kCAE3C,uXAAC,+IAAM;wBAAC,SAAQ;wBAAQ,MAAK;wBAAO,WAAU;;0CAC5C,uXAAC,wSAAI;gCAAC,WAAU;;;;;;0CAChB,uXAAC;gCAAK,WAAU;0CAAgI;;;;;;;;;;;;;;;;;;;;;;;;AAO1J"}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn('leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn('px-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,uXAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 483, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/lib/store.ts"],"sourcesContent":["import type { Contact, Lead, FollowUp, EmailTemplate, Activity, Opportunity, CallLog, CommissionSnapshot, AuditTrail, Dispute } from \"./types\"\r\n\r\nconst STORAGE_KEYS = {\r\n  contacts: \"crm_contacts\",\r\n  leads: \"crm_leads\",\r\n  notInterested: \"crm_not_interested\",\r\n  opportunities: \"crm_opportunities\",\r\n  followUps: \"crm_follow_ups\",\r\n  templates: \"crm_templates\",\r\n  activities: \"crm_activities\",\r\n  callLogs: \"crm_call_logs\",\r\n  commissionSnapshots: \"crm_commission_snapshots\",\r\n  auditTrail: \"crm_audit_trail\",\r\n  disputes: \"crm_disputes\",\r\n}\r\n\r\n// Helper functions\r\nexport function generateId(): string {\r\n  return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\r\n}\r\n\r\nfunction getFromStorage<T>(key: string, defaultValue: T): T {\r\n  if (typeof window === \"undefined\") return defaultValue\r\n  const stored = localStorage.getItem(key)\r\n  return stored ? JSON.parse(stored) : defaultValue\r\n}\r\n\r\nfunction saveToStorage<T>(key: string, value: T): void {\r\n  if (typeof window === \"undefined\") return\r\n  localStorage.setItem(key, JSON.stringify(value))\r\n}\r\n\r\n// Contacts\r\nexport function getContacts(): Contact[] {\r\n  return getFromStorage<Contact[]>(STORAGE_KEYS.contacts, [])\r\n}\r\n\r\nexport function saveContact(contact: Contact): void {\r\n  const contacts = getContacts()\r\n  const index = contacts.findIndex((c) => c.id === contact.id)\r\n  if (index >= 0) {\r\n    contacts[index] = contact\r\n  } else {\r\n    contacts.push(contact)\r\n  }\r\n  saveToStorage(STORAGE_KEYS.contacts, contacts)\r\n}\r\n\r\nexport function deleteContact(id: string): void {\r\n  const contacts = getContacts().filter((c) => c.id !== id)\r\n  saveToStorage(STORAGE_KEYS.contacts, contacts)\r\n}\r\n\r\n// Leads\r\nexport function getLeads(): Lead[] {\r\n  return getFromStorage<Lead[]>(STORAGE_KEYS.leads, [])\r\n}\r\n\r\nexport function saveLead(lead: Lead): void {\r\n  const leads = getLeads()\r\n  const index = leads.findIndex((l) => l.id === lead.id)\r\n  if (index >= 0) {\r\n    leads[index] = lead\r\n  } else {\r\n    leads.push(lead)\r\n  }\r\n  saveToStorage(STORAGE_KEYS.leads, leads)\r\n}\r\n\r\nexport function deleteLead(id: string): void {\r\n  const leads = getLeads().filter((l) => l.id !== id)\r\n  saveToStorage(STORAGE_KEYS.leads, leads)\r\n}\r\n\r\n// Follow-ups\r\nexport function getFollowUps(): FollowUp[] {\r\n  return getFromStorage<FollowUp[]>(STORAGE_KEYS.followUps, [])\r\n}\r\n\r\nexport function saveFollowUp(followUp: FollowUp): void {\r\n  const followUps = getFollowUps()\r\n  const index = followUps.findIndex((f) => f.id === followUp.id)\r\n  if (index >= 0) {\r\n    followUps[index] = followUp\r\n  } else {\r\n    followUps.push(followUp)\r\n  }\r\n  saveToStorage(STORAGE_KEYS.followUps, followUps)\r\n}\r\n\r\nexport function deleteFollowUp(id: string): void {\r\n  const followUps = getFollowUps().filter((f) => f.id !== id)\r\n  saveToStorage(STORAGE_KEYS.followUps, followUps)\r\n}\r\n\r\n// Email Templates\r\nexport function getTemplates(): EmailTemplate[] {\r\n  return getFromStorage<EmailTemplate[]>(STORAGE_KEYS.templates, defaultTemplates)\r\n}\r\n\r\nexport function saveTemplate(template: EmailTemplate): void {\r\n  const templates = getTemplates()\r\n  const index = templates.findIndex((t) => t.id === template.id)\r\n  if (index >= 0) {\r\n    templates[index] = template\r\n  } else {\r\n    templates.push(template)\r\n  }\r\n  saveToStorage(STORAGE_KEYS.templates, templates)\r\n}\r\n\r\nexport function deleteTemplate(id: string): void {\r\n  const templates = getTemplates().filter((t) => t.id !== id)\r\n  saveToStorage(STORAGE_KEYS.templates, templates)\r\n}\r\n\r\n// Activities\r\nexport function getActivities(): Activity[] {\r\n  return getFromStorage<Activity[]>(STORAGE_KEYS.activities, [])\r\n}\r\n\r\nexport function addActivity(activity: Activity): void {\r\n  const activities = getActivities()\r\n  activities.unshift(activity)\r\n  // Keep only last 100 activities\r\n  saveToStorage(STORAGE_KEYS.activities, activities.slice(0, 100))\r\n}\r\n\r\n// Opportunities\r\nexport function getOpportunities(): Opportunity[] {\r\n  return getFromStorage<Opportunity[]>(STORAGE_KEYS.opportunities, [])\r\n}\r\n\r\nexport function saveOpportunity(opportunity: Opportunity): void {\r\n  const opportunities = getOpportunities()\r\n  const index = opportunities.findIndex((o) => o.id === opportunity.id)\r\n  if (index >= 0) {\r\n    opportunities[index] = opportunity\r\n  } else {\r\n    opportunities.push(opportunity)\r\n  }\r\n  saveToStorage(STORAGE_KEYS.opportunities, opportunities)\r\n  \r\n  // Create audit trail entry for changes\r\n  if (index >= 0) {\r\n    const oldOpp = opportunities[index]\r\n    // Log key field changes\r\n    const fieldsToTrack = ['status', 'assignedTo', 'value', 'source', 'subSource']\r\n    fieldsToTrack.forEach(field => {\r\n      if (oldOpp[field as keyof Opportunity] !== opportunity[field as keyof Opportunity]) {\r\n        addAuditTrail({\r\n          id: generateId(),\r\n          opportunityId: opportunity.id,\r\n          fieldName: field,\r\n          oldValue: String(oldOpp[field as keyof Opportunity] || ''),\r\n          newValue: String(opportunity[field as keyof Opportunity] || ''),\r\n          changedBy: 'me', // TODO: Get from auth context\r\n          changedAt: new Date().toISOString(),\r\n        })\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport function deleteOpportunity(id: string): void {\r\n  const opportunities = getOpportunities()\r\n  const opp = opportunities.find(o => o.id === id)\r\n  if (opp && opp.status === 'won') {\r\n    throw new Error('Cannot delete closed won opportunity. Use reversal instead.')\r\n  }\r\n  const filtered = opportunities.filter((o) => o.id !== id)\r\n  saveToStorage(STORAGE_KEYS.opportunities, filtered)\r\n}\r\n\r\n// Call Logs\r\nexport function getCallLogs(opportunityId?: string): CallLog[] {\r\n  const logs = getFromStorage<CallLog[]>(STORAGE_KEYS.callLogs, [])\r\n  if (opportunityId) {\r\n    return logs.filter(log => log.opportunityId === opportunityId)\r\n  }\r\n  return logs\r\n}\r\n\r\nexport function saveCallLog(callLog: CallLog): void {\r\n  const logs = getCallLogs()\r\n  const index = logs.findIndex((l) => l.id === callLog.id)\r\n  if (index >= 0) {\r\n    logs[index] = callLog\r\n  } else {\r\n    logs.push(callLog)\r\n  }\r\n  saveToStorage(STORAGE_KEYS.callLogs, logs)\r\n  \r\n  // Create activity record\r\n  addActivity({\r\n    id: generateId(),\r\n    opportunityId: callLog.opportunityId,\r\n    contactId: callLog.contactId,\r\n    type: callLog.direction === 'inbound' ? 'call_received' : 'call_made',\r\n    description: `Call ${callLog.direction === 'inbound' ? 'received from' : 'made to'} ${callLog.phoneNumber}${callLog.outcome ? ` - ${callLog.outcome}` : ''}`,\r\n    direction: callLog.direction,\r\n    user: callLog.user,\r\n    callDuration: callLog.duration,\r\n    callOutcome: callLog.outcome,\r\n    createdAt: callLog.occurredAt,\r\n  })\r\n}\r\n\r\n// Commission Snapshots\r\nexport function getCommissionSnapshot(opportunityId: string): CommissionSnapshot | null {\r\n  const snapshots = getFromStorage<CommissionSnapshot[]>(STORAGE_KEYS.commissionSnapshots, [])\r\n  return snapshots.find(s => s.opportunityId === opportunityId) || null\r\n}\r\n\r\nexport function saveCommissionSnapshot(snapshot: CommissionSnapshot): void {\r\n  const snapshots = getFromStorage<CommissionSnapshot[]>(STORAGE_KEYS.commissionSnapshots, [])\r\n  const index = snapshots.findIndex((s) => s.id === snapshot.id)\r\n  if (index >= 0) {\r\n    snapshots[index] = snapshot\r\n  } else {\r\n    snapshots.push(snapshot)\r\n  }\r\n  saveToStorage(STORAGE_KEYS.commissionSnapshots, snapshots)\r\n}\r\n\r\n// Audit Trail\r\nexport function getAuditTrail(opportunityId: string): AuditTrail[] {\r\n  const trail = getFromStorage<AuditTrail[]>(STORAGE_KEYS.auditTrail, [])\r\n  return trail.filter(t => t.opportunityId === opportunityId).sort((a, b) => \r\n    new Date(b.changedAt).getTime() - new Date(a.changedAt).getTime()\r\n  )\r\n}\r\n\r\nexport function addAuditTrail(entry: AuditTrail): void {\r\n  const trail = getFromStorage<AuditTrail[]>(STORAGE_KEYS.auditTrail, [])\r\n  trail.push(entry)\r\n  saveToStorage(STORAGE_KEYS.auditTrail, trail)\r\n}\r\n\r\n// Disputes\r\nexport function getDisputes(opportunityId?: string): Dispute[] {\r\n  const disputes = getFromStorage<Dispute[]>(STORAGE_KEYS.disputes, [])\r\n  if (opportunityId) {\r\n    return disputes.filter(d => d.opportunityId === opportunityId)\r\n  }\r\n  return disputes\r\n}\r\n\r\nexport function saveDispute(dispute: Dispute): void {\r\n  const disputes = getDisputes()\r\n  const index = disputes.findIndex((d) => d.id === dispute.id)\r\n  if (index >= 0) {\r\n    disputes[index] = { ...dispute, updatedAt: new Date().toISOString() }\r\n  } else {\r\n    disputes.push(dispute)\r\n  }\r\n  saveToStorage(STORAGE_KEYS.disputes, disputes)\r\n}\r\n\r\n// Not Interested Leads\r\nexport function getNotInterestedLeads(): Lead[] {\r\n  return getFromStorage<Lead[]>(STORAGE_KEYS.notInterested, [])\r\n}\r\n\r\nexport function addNotInterestedLead(lead: Lead, reason?: string): void {\r\n  const notInterested = getNotInterestedLeads()\r\n  // Add reason as notes if provided\r\n  const leadWithReason: Lead = {\r\n    ...lead,\r\n    notes: reason ? `${lead.notes || ''}\\n\\nNot Interested Reason: ${reason}`.trim() : lead.notes,\r\n    status: \"dropped\" as LeadStatus,\r\n  }\r\n  notInterested.push(leadWithReason)\r\n  saveToStorage(STORAGE_KEYS.notInterested, notInterested)\r\n  \r\n  // Remove from active leads\r\n  deleteLead(lead.id)\r\n  \r\n  // Add activity\r\n  addActivity({\r\n    id: generateId(),\r\n    leadId: lead.id,\r\n    contactId: lead.contactId,\r\n    type: \"status_changed\",\r\n    description: `Lead marked as \"Not interested at this time\"${reason ? `: ${reason}` : ''}`,\r\n    user: \"me\", // TODO: Get from auth\r\n    createdAt: new Date().toISOString(),\r\n  })\r\n}\r\n\r\n// Lead Conversion Functions\r\nexport function convertLeadToOpportunity(lead: Lead, contact: Contact, subSource?: string): Opportunity {\r\n  // Map lead source to opportunity source\r\n  const sourceMap: Record<LeadSource, OpportunitySource> = {\r\n    webform: \"webform\",\r\n    cold_call: \"cold_outreach\",\r\n    social_media: \"social\",\r\n    previous_enquiry: \"previous_enquiry\",\r\n    previous_client: \"previous_client\",\r\n    forwarded: \"forwarded\",\r\n  }\r\n  \r\n  const opportunity: Opportunity = {\r\n    id: generateId(),\r\n    title: `Opportunity - ${contact.name}`,\r\n    contactId: lead.contactId,\r\n    source: sourceMap[lead.source],\r\n    subSource: subSource || getDefaultSubSource(lead.source),\r\n    assignedTo: lead.assignedTo,\r\n    status: \"open\",\r\n    value: lead.value,\r\n    currency: \"USD\",\r\n    notes: lead.notes,\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  }\r\n  \r\n  saveOpportunity(opportunity)\r\n  \r\n  // Remove from leads\r\n  deleteLead(lead.id)\r\n  \r\n  // Add activity\r\n  addActivity({\r\n    id: generateId(),\r\n    opportunityId: opportunity.id,\r\n    contactId: contact.id,\r\n    type: \"note_added\",\r\n    description: `Lead converted to Opportunity (Enquiry)`,\r\n    user: \"me\", // TODO: Get from auth\r\n    createdAt: new Date().toISOString(),\r\n  })\r\n  \r\n  return opportunity\r\n}\r\n\r\nfunction getDefaultSubSource(leadSource: LeadSource): string {\r\n  const defaults: Record<LeadSource, string> = {\r\n    webform: \"Website Form\",\r\n    cold_call: \"Phone – Outbound\",\r\n    social_media: \"Social Media – Organic\",\r\n    previous_enquiry: \"Reactivation\",\r\n    previous_client: \"Return Guest\",\r\n    forwarded: \"Email Forward\",\r\n  }\r\n  return defaults[leadSource] || \"Unknown\"\r\n}\r\n\r\n// Default templates for Outlook integration\r\nconst defaultTemplates: EmailTemplate[] = [\r\n  {\r\n    id: \"template-1\",\r\n    name: \"Initial Enquiry Response\",\r\n    subject: \"Thank you for your enquiry\",\r\n    body: `Dear {{name}},\r\n\r\nThank you for your enquiry about our services. We appreciate your interest and would love to help you.\r\n\r\nI'll be reviewing your requirements and will get back to you shortly with more details about how we can assist you.\r\n\r\nIn the meantime, please don't hesitate to reach out if you have any questions.\r\n\r\nBest regards`,\r\n    type: \"enquiry\",\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  },\r\n  {\r\n    id: \"template-2\",\r\n    name: \"Follow-up After Call\",\r\n    subject: \"Following up on our conversation\",\r\n    body: `Dear {{name}},\r\n\r\nIt was great speaking with you today. As discussed, I wanted to follow up with the details we covered.\r\n\r\n{{notes}}\r\n\r\nPlease let me know if you have any questions or would like to proceed.\r\n\r\nBest regards`,\r\n    type: \"follow_up\",\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  },\r\n  {\r\n    id: \"template-3\",\r\n    name: \"Promotion Outreach\",\r\n    subject: \"Special Offer Just for You\",\r\n    body: `Dear {{name}},\r\n\r\nI hope this email finds you well. I wanted to reach out to let you know about our current promotion.\r\n\r\n{{promotion_details}}\r\n\r\nThis offer is available for a limited time, so please don't hesitate to get in touch if you're interested.\r\n\r\nBest regards`,\r\n    type: \"promotion\",\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  },\r\n  {\r\n    id: \"template-4\",\r\n    name: \"Previous Client Return\",\r\n    subject: \"We'd love to have you back!\",\r\n    body: `Dear {{name}},\r\n\r\nI hope you're doing well! It's been a while since your last stay with us, and we've been thinking about you.\r\n\r\nWe'd love to welcome you back. Please let me know if you're interested in planning another visit.\r\n\r\nBest regards`,\r\n    type: \"return_client\",\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  },\r\n]\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 916, "column": 0}, "map": {"version":3,"sources":["file:///C:/CRM/client/app/analytics/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState, useMemo } from \"react\"\r\nimport { Sidebar } from \"@/components/sidebar\"\r\nimport { Header } from \"@/components/header\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { getLeads, getContacts, getFollowUps, getActivities } from \"@/lib/store\"\r\nimport type { Lead, Contact, FollowUp, Activity, LeadSource, LeadStatus } from \"@/lib/types\"\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  ResponsiveContainer,\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n  LineChart,\r\n  Line,\r\n  Legend,\r\n} from \"recharts\"\r\nimport { TrendingUp, TrendingDown, Users, Target } from \"lucide-react\"\r\nimport { format, subDays, startOfDay } from \"date-fns\"\r\n\r\nconst COLORS = [\"#3b82f6\", \"#f59e0b\", \"#10b981\", \"#a1a1a1\", \"#ef4444\", \"#8b5cf6\"]\r\n\r\nconst sourceLabels: Record<LeadSource, string> = {\r\n  webform: \"Webform\",\r\n  cold_call: \"Cold Call\",\r\n  social_media: \"Social Media\",\r\n  previous_enquiry: \"Previous Enquiry\",\r\n  previous_client: \"Previous Client\",\r\n  forwarded: \"Forwarded\",\r\n}\r\n\r\nconst statusLabels: Record<LeadStatus, string> = {\r\n  new: \"New\",\r\n  contacted: \"Contacted\",\r\n  follow_up: \"Follow Up\",\r\n  qualified: \"Qualified\",\r\n  converted: \"Converted\",\r\n  dropped: \"Dropped\",\r\n}\r\n\r\nexport default function AnalyticsPage() {\r\n  const [leads, setLeads] = useState<Lead[]>([])\r\n  const [contacts, setContacts] = useState<Contact[]>([])\r\n  const [followUps, setFollowUps] = useState<FollowUp[]>([])\r\n  const [activities, setActivities] = useState<Activity[]>([])\r\n\r\n  useEffect(() => {\r\n    const loadData = () => {\r\n      setLeads(getLeads())\r\n      setContacts(getContacts())\r\n      setFollowUps(getFollowUps())\r\n      setActivities(getActivities())\r\n    }\r\n    loadData()\r\n    window.addEventListener(\"storage\", loadData)\r\n    return () => window.removeEventListener(\"storage\", loadData)\r\n  }, [])\r\n\r\n  const stats = useMemo(() => {\r\n    const converted = leads.filter((l) => l.status === \"converted\").length\r\n    const dropped = leads.filter((l) => l.status === \"dropped\").length\r\n    const active = leads.filter((l) => ![\"converted\", \"dropped\"].includes(l.status)).length\r\n    const conversionRate = leads.length > 0 ? Math.round((converted / leads.length) * 100) : 0\r\n    const dropRate = leads.length > 0 ? Math.round((dropped / leads.length) * 100) : 0\r\n\r\n    const totalValue = leads\r\n      .filter((l) => l.status === \"converted\" && l.value)\r\n      .reduce((sum, l) => sum + (l.value || 0), 0)\r\n\r\n    const pendingFollowUps = followUps.filter((f) => !f.completed).length\r\n    const completedFollowUps = followUps.filter((f) => f.completed).length\r\n\r\n    return {\r\n      totalLeads: leads.length,\r\n      converted,\r\n      dropped,\r\n      active,\r\n      conversionRate,\r\n      dropRate,\r\n      totalValue,\r\n      pendingFollowUps,\r\n      completedFollowUps,\r\n    }\r\n  }, [leads, followUps])\r\n\r\n  const sourceData = useMemo(() => {\r\n    const counts: Record<string, number> = {}\r\n    leads.forEach((lead) => {\r\n      const label = sourceLabels[lead.source]\r\n      counts[label] = (counts[label] || 0) + 1\r\n    })\r\n    return Object.entries(counts).map(([name, value]) => ({ name, value }))\r\n  }, [leads])\r\n\r\n  const statusData = useMemo(() => {\r\n    const counts: Record<string, number> = {}\r\n    leads.forEach((lead) => {\r\n      const label = statusLabels[lead.status]\r\n      counts[label] = (counts[label] || 0) + 1\r\n    })\r\n    return Object.entries(counts).map(([name, value]) => ({ name, value }))\r\n  }, [leads])\r\n\r\n  const conversionBySource = useMemo(() => {\r\n    const sourceStats: Record<string, { total: number; converted: number }> = {}\r\n    leads.forEach((lead) => {\r\n      const label = sourceLabels[lead.source]\r\n      if (!sourceStats[label]) {\r\n        sourceStats[label] = { total: 0, converted: 0 }\r\n      }\r\n      sourceStats[label].total++\r\n      if (lead.status === \"converted\") {\r\n        sourceStats[label].converted++\r\n      }\r\n    })\r\n    return Object.entries(sourceStats).map(([name, data]) => ({\r\n      name,\r\n      rate: data.total > 0 ? Math.round((data.converted / data.total) * 100) : 0,\r\n      total: data.total,\r\n    }))\r\n  }, [leads])\r\n\r\n  const activityTimeline = useMemo(() => {\r\n    const last7Days = Array.from({ length: 7 }, (_, i) => {\r\n      const date = subDays(new Date(), 6 - i)\r\n      return {\r\n        date: format(date, \"EEE\"),\r\n        fullDate: startOfDay(date),\r\n        activities: 0,\r\n        leads: 0,\r\n      }\r\n    })\r\n\r\n    activities.forEach((activity) => {\r\n      const activityDate = startOfDay(new Date(activity.createdAt))\r\n      const dayIndex = last7Days.findIndex((d) => d.fullDate.getTime() === activityDate.getTime())\r\n      if (dayIndex >= 0) {\r\n        last7Days[dayIndex].activities++\r\n      }\r\n    })\r\n\r\n    leads.forEach((lead) => {\r\n      const leadDate = startOfDay(new Date(lead.createdAt))\r\n      const dayIndex = last7Days.findIndex((d) => d.fullDate.getTime() === leadDate.getTime())\r\n      if (dayIndex >= 0) {\r\n        last7Days[dayIndex].leads++\r\n      }\r\n    })\r\n\r\n    return last7Days\r\n  }, [activities, leads])\r\n\r\n  const assignmentData = useMemo(() => {\r\n    const linda = leads.filter((l) => l.assignedTo === \"linda\").length\r\n    const me = leads.filter((l) => l.assignedTo === \"me\").length\r\n    return [\r\n      { name: \"Linda\", value: linda },\r\n      { name: \"Me\", value: me },\r\n    ]\r\n  }, [leads])\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background\">\r\n      <Sidebar />\r\n      <main className=\"ml-64\">\r\n        <Header title=\"Analytics\" subtitle=\"Track your sales performance\" />\r\n        <div className=\"p-6\">\r\n          {/* Key Metrics */}\r\n          <div className=\"mb-6 grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\r\n            <Card className=\"bg-card\">\r\n              <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\r\n                <CardTitle className=\"text-sm font-medium text-muted-foreground\">Conversion Rate</CardTitle>\r\n                <TrendingUp className=\"h-4 w-4 text-accent\" />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-2xl font-bold text-foreground\">{stats.conversionRate}%</div>\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  {stats.converted} of {stats.totalLeads} leads converted\r\n                </p>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"bg-card\">\r\n              <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\r\n                <CardTitle className=\"text-sm font-medium text-muted-foreground\">Drop-off Rate</CardTitle>\r\n                <TrendingDown className=\"h-4 w-4 text-destructive\" />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-2xl font-bold text-foreground\">{stats.dropRate}%</div>\r\n                <p className=\"text-xs text-muted-foreground\">{stats.dropped} leads dropped off</p>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"bg-card\">\r\n              <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\r\n                <CardTitle className=\"text-sm font-medium text-muted-foreground\">Total Pipeline Value</CardTitle>\r\n                <Target className=\"h-4 w-4 text-primary\" />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-2xl font-bold text-foreground\">${stats.totalValue.toLocaleString()}</div>\r\n                <p className=\"text-xs text-muted-foreground\">From converted leads</p>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"bg-card\">\r\n              <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\r\n                <CardTitle className=\"text-sm font-medium text-muted-foreground\">Active Leads</CardTitle>\r\n                <Users className=\"h-4 w-4 text-warning\" />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-2xl font-bold text-foreground\">{stats.active}</div>\r\n                <p className=\"text-xs text-muted-foreground\">In progress</p>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* Charts Row 1 */}\r\n          <div className=\"mb-6 grid gap-6 lg:grid-cols-2\">\r\n            {/* Lead Sources Pie Chart */}\r\n            <Card className=\"bg-card\">\r\n              <CardHeader>\r\n                <CardTitle className=\"text-foreground\">Lead Sources</CardTitle>\r\n                <CardDescription className=\"text-muted-foreground\">Distribution of leads by source</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                {sourceData.length === 0 ? (\r\n                  <div className=\"flex h-[300px] items-center justify-center text-muted-foreground\">\r\n                    No data available\r\n                  </div>\r\n                ) : (\r\n                  <ResponsiveContainer width=\"100%\" height={300}>\r\n                    <PieChart>\r\n                      <Pie\r\n                        data={sourceData}\r\n                        cx=\"50%\"\r\n                        cy=\"50%\"\r\n                        innerRadius={60}\r\n                        outerRadius={100}\r\n                        paddingAngle={5}\r\n                        dataKey=\"value\"\r\n                        label={({ name, percent }) => `${name} (${(percent * 100).toFixed(0)}%)`}\r\n                      >\r\n                        {sourceData.map((_, index) => (\r\n                          <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n                        ))}\r\n                      </Pie>\r\n                      <Tooltip\r\n                        contentStyle={{\r\n                          backgroundColor: \"#141414\",\r\n                          border: \"1px solid #262626\",\r\n                          borderRadius: \"8px\",\r\n                        }}\r\n                      />\r\n                    </PieChart>\r\n                  </ResponsiveContainer>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Pipeline Status Bar Chart */}\r\n            <Card className=\"bg-card\">\r\n              <CardHeader>\r\n                <CardTitle className=\"text-foreground\">Pipeline Status</CardTitle>\r\n                <CardDescription className=\"text-muted-foreground\">Leads by current status</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                {statusData.length === 0 ? (\r\n                  <div className=\"flex h-[300px] items-center justify-center text-muted-foreground\">\r\n                    No data available\r\n                  </div>\r\n                ) : (\r\n                  <ResponsiveContainer width=\"100%\" height={300}>\r\n                    <BarChart data={statusData}>\r\n                      <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#262626\" />\r\n                      <XAxis dataKey=\"name\" stroke=\"#a1a1a1\" tick={{ fill: \"#a1a1a1\" }} />\r\n                      <YAxis stroke=\"#a1a1a1\" tick={{ fill: \"#a1a1a1\" }} />\r\n                      <Tooltip\r\n                        contentStyle={{\r\n                          backgroundColor: \"#141414\",\r\n                          border: \"1px solid #262626\",\r\n                          borderRadius: \"8px\",\r\n                        }}\r\n                      />\r\n                      <Bar dataKey=\"value\" fill=\"#3b82f6\" radius={[4, 4, 0, 0]} />\r\n                    </BarChart>\r\n                  </ResponsiveContainer>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* Charts Row 2 */}\r\n          <div className=\"mb-6 grid gap-6 lg:grid-cols-2\">\r\n            {/* Conversion by Source */}\r\n            <Card className=\"bg-card\">\r\n              <CardHeader>\r\n                <CardTitle className=\"text-foreground\">Conversion by Source</CardTitle>\r\n                <CardDescription className=\"text-muted-foreground\">Which sources convert best</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                {conversionBySource.length === 0 ? (\r\n                  <div className=\"flex h-[300px] items-center justify-center text-muted-foreground\">\r\n                    No data available\r\n                  </div>\r\n                ) : (\r\n                  <ResponsiveContainer width=\"100%\" height={300}>\r\n                    <BarChart data={conversionBySource} layout=\"vertical\">\r\n                      <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#262626\" />\r\n                      <XAxis type=\"number\" stroke=\"#a1a1a1\" tick={{ fill: \"#a1a1a1\" }} unit=\"%\" />\r\n                      <YAxis dataKey=\"name\" type=\"category\" width={100} stroke=\"#a1a1a1\" tick={{ fill: \"#a1a1a1\" }} />\r\n                      <Tooltip\r\n                        contentStyle={{\r\n                          backgroundColor: \"#141414\",\r\n                          border: \"1px solid #262626\",\r\n                          borderRadius: \"8px\",\r\n                        }}\r\n                        formatter={(value: number) => [`${value}%`, \"Conversion Rate\"]}\r\n                      />\r\n                      <Bar dataKey=\"rate\" fill=\"#10b981\" radius={[0, 4, 4, 0]} />\r\n                    </BarChart>\r\n                  </ResponsiveContainer>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Activity Timeline */}\r\n            <Card className=\"bg-card\">\r\n              <CardHeader>\r\n                <CardTitle className=\"text-foreground\">Activity Timeline</CardTitle>\r\n                <CardDescription className=\"text-muted-foreground\">Last 7 days activity</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <ResponsiveContainer width=\"100%\" height={300}>\r\n                  <LineChart data={activityTimeline}>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#262626\" />\r\n                    <XAxis dataKey=\"date\" stroke=\"#a1a1a1\" tick={{ fill: \"#a1a1a1\" }} />\r\n                    <YAxis stroke=\"#a1a1a1\" tick={{ fill: \"#a1a1a1\" }} />\r\n                    <Tooltip\r\n                      contentStyle={{\r\n                        backgroundColor: \"#141414\",\r\n                        border: \"1px solid #262626\",\r\n                        borderRadius: \"8px\",\r\n                      }}\r\n                    />\r\n                    <Legend />\r\n                    <Line\r\n                      type=\"monotone\"\r\n                      dataKey=\"activities\"\r\n                      name=\"Activities\"\r\n                      stroke=\"#3b82f6\"\r\n                      strokeWidth={2}\r\n                      dot={{ fill: \"#3b82f6\" }}\r\n                    />\r\n                    <Line\r\n                      type=\"monotone\"\r\n                      dataKey=\"leads\"\r\n                      name=\"New Leads\"\r\n                      stroke=\"#10b981\"\r\n                      strokeWidth={2}\r\n                      dot={{ fill: \"#10b981\" }}\r\n                    />\r\n                  </LineChart>\r\n                </ResponsiveContainer>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* Assignment Distribution */}\r\n          <Card className=\"bg-card\">\r\n            <CardHeader>\r\n              <CardTitle className=\"text-foreground\">Lead Assignment</CardTitle>\r\n              <CardDescription className=\"text-muted-foreground\">Distribution between Linda and you</CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"flex items-center justify-center gap-12\">\r\n                {assignmentData.map((item, index) => (\r\n                  <div key={item.name} className=\"text-center\">\r\n                    <div\r\n                      className=\"mx-auto mb-2 flex h-24 w-24 items-center justify-center rounded-full\"\r\n                      style={{ backgroundColor: `${COLORS[index]}20` }}\r\n                    >\r\n                      <span className=\"text-2xl font-bold\" style={{ color: COLORS[index] }}>\r\n                        {item.value}\r\n                      </span>\r\n                    </div>\r\n                    <p className=\"text-sm font-medium text-foreground\">{item.name}</p>\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                      {leads.length > 0 ? `${Math.round((item.value / leads.length) * 100)}%` : \"0%\"} of leads\r\n                    </p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}