# Firebase App Hosting configuration
# Note: Configure Firebase Console to use 'client' as the root directory
# OR update root package.json build scripts to delegate to client directory

run:
  # Build command - uses root package.json build script
  buildCommand: npm run build
  # Start command - uses root package.json start script  
  startCommand: npm start

# Environment variables
# Set actual values in Firebase Console → App Hosting → Environment Variables
# For sensitive values (OUTLOOK_CLIENT_SECRET), use Firebase Secrets Manager
env:
  - variable: PORT
    value: "3000"
    availability:
      - RUNTIME
  - variable: NEXT_PUBLIC_API_URL
    value: "https://personalcrm--personalcrm-12a24.us-east4.hosted.app/api"
    availability:
      - BUILD
      - RUNTIME
  - variable: OUTLOOK_CLIENT_ID
    value: "fdaf64d6-d66e-4990-880f-4bec320574b4"
    availability:
      - BUILD
      - RUNTIME
  - variable: OUTLOOK_CLIENT_SECRET
    # SECURITY: Set this value in Firebase Console → App Hosting → Secrets Manager
    # Do not commit actual secret values to the repository
    value: "${OUTLOOK_CLIENT_SECRET}"
    availability:
      - BUILD
      - RUNTIME
  - variable: OUTLOOK_TENANT_ID
    value: "2d143b33-a956-4f25-83ae-aa21c1727ac9"
    availability:
      - BUILD
      - RUNTIME
  - variable: OUTLOOK_REDIRECT_URI
    value: "https://personalcrm--personalcrm-12a24.us-east4.hosted.app/api/emails/callback"
    availability:
      - BUILD
      - RUNTIME
  - variable: FRONTEND_URL
    value: "https://your-app-url.com"
    availability:
      - BUILD
      - RUNTIME